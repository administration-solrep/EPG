<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div th:fragment="panTabs(myTabs, panOngletClass, ongletParent)" th:remove="tag">
            <div
                th:if="${myTabs!=null && not #lists.isEmpty(myTabs.onglets)}"
                class="tabulation m-t-5"
                th:with="parent=${ongletParent} == null ? '' : ${ongletParent} +  '_'"
            >
                <div role="tablist" class="tabulation__header">
                    <button
                        th:each="onglet, status : ${myTabs.onglets}"
                        type="button"
                        role="tab"
                        class="tabulation__item js-tabulation base-btn base-btn--button base-btn--default base-btn--transparent"
                        th:classappend="${(onglet.isActif ? 'tabulation\_\_item--active ' : '') + panOngletClass}"
                        th:aria-selected="${onglet.isActif ? 'true' : 'false'}"
                        th:aria-controls="'d_tab_content_'+ ${parent} + ${onglet.id}"
                        th:id="'d_tab_link_'+ ${parent} + ${onglet.id}"
                        th:data-name="${onglet.id}"
                        th:attr="onclick=${onglet.script}"
                        th:tabindex="${!onglet.isActif ? '-1' : null}"
                        th:text="#{__${onglet.label}__}"
                        name="tab-up"
                    ></button>
                </div>
                <div class="tabulation__body">
                    <div
                        th:each="onglet, status : ${myTabs.onglets}"
                        role="tabpanel"
                        tabindex="0"
                        class="tabulation__content"
                        th:id="'d_tab_content_'+ ${parent} + ${onglet.id}"
                        th:aria-hidden="${onglet.isActif ? 'false' : 'true'}"
                        th:aria-labelledby="'d_tab_link_'+ ${parent} + ${onglet.id}"
                        th:classappend="${onglet.isActif ? 'tabulation\_\_content--active ' : ''}"
                    >
                        <th:block th:if="${onglet.isActif}">
                            <div th:replace="${onglet.fragmentFile} :: ${onglet.fragmentName}"></div>
                        </th:block>
                        <div th:unless="${onglet.isActif}" th:id="'d_'+ ${parent} + ${onglet.id} + '_content'">
                            Chargement
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
