<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layouts/layout  :: layout (template=~{::main},templateClass='', description='page créer fiche', title=${intitule})}"
>
    <main role="main" id="main_content" class="page-layout__content">
        <input type="hidden" id="urlPreviousPage" name="urlPreviousPage" th:value="@{${urlPreviousPage}}" />

        <div class="row-actions">
            <div class="row-actions__left" th:if="${baseActions !=null && not #lists.isEmpty(baseActions)}">
                <th:block th:each="action : ${baseActions}">
                    <button
                        th:replace="fragments/components/label-action-button :: label-action-button(${action}, false, ${action.type == 'secondary' ? 'base-btn--secondary' : action.type == 'tertiary' ? 'base-btn--light base-btn--transparent base-btn--bordered' : ''})"
                    ></button>
                </th:block>
            </div>
            <div class="row-actions__right" th:if="${mainActions !=null && not #lists.isEmpty(mainActions)}">
                <th:block th:each="action : ${mainActions}">
                    <button
                        th:replace="fragments/components/label-action-button :: label-action-button(${action}, false, ${action.type == 'secondary' ? 'base-btn--secondary' : action.type == 'tertiary' ? 'base-btn--light base-btn--transparent base-btn--bordered' : ''})"
                    ></button>
                </th:block>
            </div>
        </div>

        <h1 class="heading-complex__title base-title base-title--lvl-1" th:text="${intitule}">
            Créer une fiche
        </h1>

        <form id="formEditFiche">
            <input type="hidden" id="typeFiche" name="typeFiche" th:value="${typeFiche}" />
            <input
                type="hidden"
                id="idCommunicationATraiter"
                name="idCommunicationATraiter"
                th:value="${idCommunicationATraiter}"
            />
            <div
                th:replace="fragments/mgpp/dossier/onglets/fichePresentationWidgets :: fichePresentationWidgets(${lstWidgetsPresentation})"
            ></div>
        </form>
        <div th:replace="fragments/mgpp/components/mgppModaleEdit :: mgppModaleEdit"></div>

        <div class="row-actions">
            <div class="row-actions__left" th:if="${baseActions !=null && not #lists.isEmpty(baseActions)}">
                <th:block th:each="action : ${baseActions}">
                    <button
                        th:replace="fragments/components/label-action-button :: label-action-button(${action}, false, ${action.type == 'secondary' ? 'base-btn--secondary' : action.type == 'tertiary' ? 'base-btn--light base-btn--transparent base-btn--bordered' : ''})"
                    ></button>
                </th:block>
            </div>
            <div class="row-actions__right" th:if="${mainActions !=null && not #lists.isEmpty(mainActions)}">
                <th:block th:each="action : ${mainActions}">
                    <button
                        th:replace="fragments/components/label-action-button :: label-action-button(${action}, false, ${action.type == 'secondary' ? 'base-btn--secondary' : action.type == 'tertiary' ? 'base-btn--light base-btn--transparent base-btn--bordered' : ''})"
                    ></button>
                </th:block>
            </div>
        </div>
    </main>
</html>
