<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div
            th:fragment="ajoutEtapeFdrRestartDossier"
            th:with="id='ajoutEtapeFdrRestartDossier'"
            th:id="${id}"
            class="interstitial-overlay__content"
        >
            <div
                role="dialog"
                aria-labelledby="dialogTitle"
                class="interstitial interstitial--tall modal-flex modal-etape"
            >
                <div class="interstitial__header">
                    <h1 class="interstitial__title" th:text="#{epg.etape.fdr.creer.nouvelle.etape}">
                        Créer une nouvelle étape
                    </h1>
                    <button
                        type="button"
                        class="interstitial__close base-btn base-btn--button base-btn--default base-btn--discret"
                    >
                        <span aria-hidden="true" class="icon icon--cross"></span>
                        <span class="sr-only" th:text="#{validation.popup.close.label}">Fermer</span>
                    </button>
                </div>
                <div class="interstitial__content modal-flex" id="ContentAjoutEtapeFdrRestartDossier">
                    <form id="ajoutEtapeFdrRestartDossierForm">
                        <fieldset class="m-b-6">
                            <div class="grid__row m-t-6">
                                <div class="grid__col grid__col--middle">
                                    <th:block
                                        th:replace="fragments/components/formblocks/simple-select :: simpleSelect('dossier.fdr.ajout.etape.type', 'typeEtape-' + ${id}, '', ${typeEtape}, null, 'false', false)"
                                    >
                                    </th:block>
                                </div>
                            </div>
                            <div class="grid__row m-t-6">
                                <div class="grid__col grid__col--middle">
                                    <div
                                        th:replace="fragments/components/organigrammeSelectAutocompletePosteEtape :: organigrammeSelectAutocompletePosteEtape(
					                        label='dossier.fdr.ajout.etape.destinataire', 
					                        labelRequired=true, 
					                        myID='destinataire-'+${id},
					                        myName='destinataire', 
					                        typeSelection='PST', 
					                        idSelection=null,
					                        activatePosteFilter=false, 
					                        isMulti=false, 
					                        listItems=null,
					                        disabled=false,
                 							idTypeEtape='typeEtape-' + ${id})"
                                        class="select-icon-tree-wrapper"
                                    ></div>
                                </div>
                            </div>
                            <div class="grid__row m-t-6">
                                <div class="grid__col grid__col--middle">
                                    <div class="form-input">
                                        <div class="form-input__header">
                                            <div class="form-input__header-top">
                                                <label
                                                    th:for="|echeance-${id}|"
                                                    th:id="|echeance-${id}_label|"
                                                    class="form-label"
                                                    th:text="#{dossier.fdr.ajout.etape.echeance.indicative}"
                                                >
                                                </label>
                                            </div>
                                            <div class="form-input__header-bottom"></div>
                                        </div>
                                        <div class="form-input__container">
                                            <input
                                                type="number"
                                                th:name="|echeance-${id}|"
                                                th:id="|echeance-${id}|"
                                                min="0"
                                                max="100"
                                                class="form-input__field form-input__field--type-number"
                                            />
                                        </div>
                                        <div th:id="|echeance-${id}_description|" class="form-input__footer"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="grid__row m-t-6">
                                <div class="grid__col grid__col--middle">
                                    <th:block
                                        th:replace="fragments/components/formblocks/input-oui-non :: ouiNon('dossier.fdr.ajout.etape.valeur.automatique', 'valAuto-' + ${id}, false, false)"
                                    ></th:block>
                                </div>
                            </div>
                            <div class="grid__row m-t-6">
                                <div class="grid__col grid__col--middle">
                                    <div class="form-optin">
                                        <fieldset class="form-optin__fieldset">
                                            <legend
                                                class="form-optin__legend"
                                                th:text="#{dossier.fdr.ajout.etape.obligatoire}"
                                            >
                                                Obligatoire
                                            </legend>
                                            <div class="form-optin__optins">
                                                <div class="form-optin__container">
                                                    <input
                                                        type="radio"
                                                        value="non"
                                                        th:id="|obligatoire-${id}-0|"
                                                        th:name="|obligatoire-${id}|"
                                                        class="form-optin__checkbox default_check"
                                                        checked="checked"
                                                        autocomplete="off"
                                                    />
                                                    <label
                                                        th:for="|obligatoire-${id}-0|"
                                                        class="form-optin__label"
                                                        th:text="#{dossier.fdr.ajout.etape.obligatoire.non}"
                                                    >
                                                    </label>
                                                </div>
                                                <div class="form-optin__container">
                                                    <input
                                                        type="radio"
                                                        value="sgg"
                                                        th:id="|obligatoire-${id}-1|"
                                                        th:name="|obligatoire-${id}|"
                                                        class="form-optin__checkbox"
                                                        autocomplete="off"
                                                    />
                                                    <label
                                                        th:for="|obligatoire-${id}-1|"
                                                        class="form-optin__label"
                                                        th:text="#{dossier.fdr.ajout.etape.obligatoire.sgg}"
                                                    >
                                                    </label>
                                                </div>
                                                <div class="form-optin__container">
                                                    <input
                                                        type="radio"
                                                        value="ministere"
                                                        th:id="|obligatoire-${id}-2|"
                                                        th:name="|obligatoire-${id}|"
                                                        class="form-optin__checkbox"
                                                        autocomplete="off"
                                                    />
                                                    <label
                                                        th:for="|obligatoire-${id}-2|"
                                                        class="form-optin__label"
                                                        th:text="#{dossier.fdr.ajout.etape.obligatoire.ministere}"
                                                    >
                                                    </label>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
                <div class="interstitial__footer">
                    <button
                        class="interstitial__button base-btn base-btn--button base-btn--default base-btn--light base-btn--center base-btn--transparent base-btn--bordered"
                        th:text="#{organigramme.edit.cancel}"
                    >
                        Annuler
                    </button>
                    <button
                        th:id="|btn-confirm-${id}|"
                        class="interstitial__button base-btn base-btn--submit base-btn--default"
                        th:text="#{button.label.creer}"
                        onclick="AddStepAndContinueRestartDossierTermineSansPub()"
                    >
                        Créer
                    </button>
                </div>
            </div>
            <div tabindex="-1" class="interstitial-overlay__tabindex"></div>
        </div>
    </body>
</html>
