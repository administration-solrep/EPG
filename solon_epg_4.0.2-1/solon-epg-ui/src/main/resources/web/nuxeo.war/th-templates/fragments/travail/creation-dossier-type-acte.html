<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div th:fragment="creation-dossier-type-acte(suggestionSuffix)" class="page-layout__content--dark m-y-6 p-a-5">
            <!-- Type d'acte -->
            <div class="grid__row">
                <div class="grid__col form-select">
                    <div
                        th:replace="fragments/components/formblocks/autocomplete-select :: autocompleteSelect(
                        'epg.dossier.creation.type.acte.label', 
                        'typeActe', 
                        'typeActe', 
                        'form.description.nocharlimit', 
                        ${ {} }, 
                        null, 
                        null,
                        @{|/ajax/travail/suggestions?isCreation=true${suggestionSuffix}|},
                        '0',
                        'input',
                        '',
                        '',
                        true,
                        false,
                        false)"
                    ></div>
                </div>
            </div>

            <div th:replace="fragments/travail/rectificatif :: rectificatif"></div>

            <form id="type-acte-form">
                <div id="type-acte-content">
                    <!-- Bloc Choix ministère et direction responsable -->
                    <div class="grid__row">
                        <div class="grid__col grid__col--full-width m-y-6 form-input-group form-input-group--column">
                            <fieldset class="form-input__fieldset">
                                <legend
                                    class="form-input-group__label"
                                    th:text="#{epg.dossier.creation.choix.ministere.direction.label}"
                                >
                                    Choix du ministère et de la direction du responsable du dossier :
                                </legend>
                                <div
                                    aria-describedby="choice-min-dir_description"
                                    class="form-input-group__icon-group"
                                ></div>
                                <!---->
                                <div class="form-input-group__list">
                                    <div class="form-choice-input-fields" id="min-dir">
                                        <input
                                            type="radio"
                                            id="rbt-ministere-direction"
                                            name="ministere-direction"
                                            class="form-choice-input__input"
                                            onchange="enableMinistereEtDirection()"
                                            autocomplete="off"
                                            checked
                                        />
                                        <label
                                            for="rbt-ministere-direction"
                                            class="form-choice-input__label form-choice-input__label--radio form-choice-input__label--empty"
                                        >
                                            <span
                                                class="sr-only"
                                                th:text="#{epg.dossier.creation.entite.origine.direction.concernee}"
                                            >
                                                Entité d’origine et direction concernée
                                            </span>
                                        </label>
                                        <fieldset class="form-choice-input-fields__fieldset">
                                            <legend
                                                class="sr-only"
                                                th:text="#{epg.dossier.creation.entite.origine.direction.concernee}"
                                            >
                                                Entité d’origine et direction concernée
                                            </legend>
                                            <div class="form-choice-input-fields__fields">
                                                <!-- Entité à l'origine du projet -->
                                                <div class="field-action-icon form-choice-input-fields__field">
                                                    <th:block
                                                        th:replace="fragments/components/organigrammeSelectAutocomplete ::organigrammeSelectAutocomplete(
                                                        'epg.dossier.creation.entite.label',
                                                        false,
                                                        'entite',
                                                        'entite',
                                                        'MIN', 
                                                        ${dto.entite}, 
                                                        false,
                                                        false,
                                                        ${dto.mapEntite},
                                                        false)"
                                                    ></th:block>
                                                </div>

                                                <!-- Direction concernée -->
                                                <div class="field-action-icon form-choice-input-fields__field">
                                                    <th:block
                                                        th:replace="fragments/components/organigrammeSelectAutocomplete ::organigrammeSelectAutocomplete(
                                                        'epg.dossier.creation.direction.concernee.label',
                                                        false,
                                                        'dirConcernee',
                                                        'dirConcernee',
                                                        'DIR', 
                                                        ${dto.direction}, 
                                                        false,
                                                        false,
                                                        ${dto.mapDirection}, 
                                                        false)"
                                                    ></th:block>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <!-- NOR PRM -->
                                    <div class="form-choice-input-fields" id="nor-prm" disabled>
                                        <input
                                            type="radio"
                                            id="rbt-nor"
                                            name="ministere-direction"
                                            class="form-choice-input__input"
                                            onchange="enableMinistereEtDirection(false)"
                                            autocomplete="off"
                                        />
                                        <label
                                            for="rbt-nor"
                                            class="form-choice-input__label form-choice-input__label--radio form-choice-input__label--empty"
                                        >
                                            <span class="sr-only" th:text="#{epg.dossier.creation.nor.prm.label}">
                                                NOR PRM
                                            </span>
                                        </label>
                                        <fieldset class="form-choice-input-fields__fieldset">
                                            <legend class="sr-only" th:text="#{epg.dossier.creation.nor.prm.label}">
                                                NOR PRM
                                            </legend>
                                            <div class="form-choice-input-fields__fields">
                                                <div class="form-choice-input-fields__field">
                                                    <div
                                                        th:replace="fragments/components/formblocks/simple-select ::simpleSelect(
                                                            'epg.dossier.creation.nor.prm.label',
                                                            'norPrm',
                                                            '',
                                                            ${norPrmList},
                                                            '',
                                                            'true',
                                                            null)"
                                                    ></div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <!-- Copier la feuille de route du dossier -->
                    <div class="grid__row">
                        <div class="grid__col form-input">
                            <div class="form-input__header">
                                <div class="form-input__header-top">
                                    <label
                                        for="norCopie"
                                        id="nor_copie_label"
                                        class="form-label"
                                        th:text="#{epg.dossier.creation.copier.fdr.label}"
                                    >
                                        Copier la feuille de route du dossier
                                    </label>
                                </div>
                                <div class="form-input__header-bottom">
                                    <p
                                        id="label_header_bottom_form_input"
                                        class="form-input__description form-input__description--default"
                                        th:text="#{epg.dossier.creation.coller.nor.label}"
                                    >
                                        Coller un NOR pour copier la feuille de route associée
                                    </p>
                                </div>
                            </div>
                            <div class="form-input__container">
                                <input
                                    type="text"
                                    name="norCopie"
                                    id="norCopie"
                                    aria-describedby=" label_header_bottom_form_input"
                                    class="form-input__field form-input__field--type-text"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </body>
</html>
