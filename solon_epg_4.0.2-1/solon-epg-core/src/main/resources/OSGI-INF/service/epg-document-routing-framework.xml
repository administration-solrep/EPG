<?xml version="1.0" ?>
<!-- Ce composant contribue le service de document routing de RÃ©ponses. -->
<component name="fr.dila.solonepg.core.service.EpgDocumentRoutingService">
	<implementation class="fr.dila.solonepg.core.service.EpgDocumentRoutingServiceImpl" />

	<service>
		<!-- Ajoute les API de document routing du socle transverse -->
		<provide interface="fr.dila.ss.api.service.DocumentRoutingService" />
		
		<!-- Ajoute les API de document routing de solon epg -->
		<provide interface="fr.dila.solonepg.api.service.EpgDocumentRoutingService" />

	</service>

	<extension-point name="stepProcess">
	    <documentation>
	      Associate a step process to step document type
	      <code>
	        <stepProcess
                    documentType="The type of the document that extends DocumentRouteStep"
                    clazz="fr.sword.idl.naiad.nuxeo.feuilleroute.core.stepprocess.ChainStepProcess"
                >
	          <parameter name="chainId" value="the id of the chain" />
	          <parameter name="undoChainIdFromRunning" value="the id of chain for undo in running" /> 
	          <parameter name="undoChainIdFromDone" value="the id of chain for undo on done" />
	        </stepProcess>
	      </code>
	    </documentation>
	    <object class="fr.sword.idl.naiad.nuxeo.feuilleroute.core.service.StepProcessDescriptor" />
	  </extension-point>

	<extension-point name="persister">
		<documentation>
			Use to provide a persister. A persister should
			implement DocumentRoutingPersister. It is responsible to persist
			instances of route.
			<code>
				<persister class="org.my.implementation.of.Persister" />
			</code>
		</documentation>
		<object class="fr.sword.idl.naiad.nuxeo.feuilleroute.core.service.PersisterDescriptor" />
	</extension-point>

</component>
