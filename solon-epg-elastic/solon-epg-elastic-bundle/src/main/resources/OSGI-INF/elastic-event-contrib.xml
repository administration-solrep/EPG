<?xml version="1.0" ?>
<component name="fr.dila.solonepg.elastic.event">
	<require>fr.dila.solonepg.elastic.batch.IIndexationDossiersBatch</require>
	<require>fr.dila.solonepg.elastic.bundle.IIndexationDossierListenerService</require>

	<!-- Marquage des documents -->
	<extension target="org.nuxeo.ecm.core.event.EventServiceComponent" point="listener">
		<listener
            name="indexationDossierListener"
            async="true"
            postCommit="true"
            priority="30"
            class="fr.dila.solonepg.elastic.bundle.IndexationDossierListener"
        >
			<event>documentCreated</event>
			<event>documentModified</event>
			<event>documentRemoved</event>
			<event>versionRemoved</event>
            <event>documentLocked</event>
            <event>documentUnlocked</event>
			<event>documentSecurityUpdated</event>
            <event>organigrammeNodeModified</event>
		</listener>
	</extension>
</component>
