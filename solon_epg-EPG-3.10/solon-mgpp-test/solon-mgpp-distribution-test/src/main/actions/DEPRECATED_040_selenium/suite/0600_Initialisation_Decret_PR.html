<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Initialisation Decret PR</title>
<link rel="selenium.base" href="http://localhost:8180/" />
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
  <thead>
    <tr>
      <td rowspan="1" colspan="3">Initialisation Decret PR</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>setTimeout</td>
      <td>120000</td>
      <td></td>
    </tr>
    <tr>
      <td>setSpeed</td>
      <td>200</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/logout</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/login.jsp</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>username</td>
      <td>adminsgg</td>
    </tr>
    <tr>
      <td>type</td>
      <td>password</td>
      <td>adminsgg</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Submit</td>
      <td></td>
    </tr>
    <!-- Création d'un décret -->
    <tr>
      <td>clickAndWait</td>
      <td>link=Création</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>formCreationDossier:buttonCreationDossier</td>
      <td></td>
    </tr>
    <tr>
      <td>select</td>
      <td>creation_dossier_100:nxl_creation_dossier_layout_100_a:nxw_type_acte_field_select_one_menu</td>
      <td>label=Décret du Président de la République</td>
    </tr>
    <tr>
      <td>waitForEditable</td>
      <td>creation_dossier_100:buttonSuivant</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>creation_dossier_100:buttonSuivant</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>creation_dossier_101:buttonTerminer</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>CCOZ1300004D</td>
      <td></td>
    </tr>
    <!-- récupération du chemin du fichier -->
    <!--Remplissage du parapheur-->
    <tr>
      <td>clickAndWait</td>
      <td>//img[@alt='Verrouiller']</td>
      <td></td>
    </tr>
    <!-- ajouts de fichier-->
    <tr>
      <td>click</td>
      <td>//td[text()='Acte intégral']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//span[text()='Ajouter document']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id=&quot;editFileForm:uploadParapheurFiles:file&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@type='file']</td>
      <td>/root/mgpp/doc2003.doc</td>
    </tr>
    <tr>
      <td>waitForTextPresent</td>
      <td>Téléchargement effectué</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='editFileForm:editFileButtonText']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForNotVisible</td>
      <td>//*[@id=&quot;editFilePanelHeader&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//td[text()='Extrait']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//span[text()='Ajouter document']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id=&quot;editFileForm:uploadParapheurFiles:file&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@type='file']</td>
      <td>/root/mgpp/doc2004.doc</td>
    </tr>
    <tr>
      <td>waitForTextPresent</td>
      <td>Téléchargement effectué</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='editFileForm:editFileButtonText']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForNotVisible</td>
      <td>//*[@id=&quot;editFilePanelHeader&quot;]</td>
      <td></td>
    </tr>
    <!--Remplissage du FDD-->
    <tr>
      <td>clickAndWait</td>
      <td>link=Fond de dossier</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//td[@id='document_properties:fondDeDossierTree:1::fondDeDossierFolderUndeletableRootWithNoFile:text']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//span[text()='Ajouter document']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id=&quot;editFileForm:uploadParapheurFiles:file&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@type='file']</td>
      <td>/root/mgpp/doc2005.doc</td>
    </tr>
    <tr>
      <td>waitForTextPresent</td>
      <td>Téléchargement effectué</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='editFileForm:editFileButtonText']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForNotVisible</td>
      <td>//*[@id=&quot;editFilePanelHeader&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//td[@id='document_properties:fondDeDossierTree:4::fondDeDossierFolderUndeletableRootWithNoFile:text']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//span[text()='Ajouter document']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id=&quot;editFileForm:uploadParapheurFiles:file&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@type='file']</td>
      <td>/root/mgpp/doc2006.doc</td>
    </tr>
    <tr>
      <td>waitForTextPresent</td>
      <td>Téléchargement effectué</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='editFileForm:editFileButtonText']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForNotVisible</td>
      <td>//*[@id=&quot;editFilePanelHeader&quot;]</td>
      <td></td>
    </tr>
    <!--Remplissage du Bordereau-->
    <tr>
      <td>clickAndWait</td>
      <td>link=Bordereau</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=bordereauForm:nxl_bordereau_donnees_principales:nxw_titre_acte_field</td>
      <td>Test mgpp decret PR</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=bordereauForm:nxl_bordereau_responsable_acte:nxw_nom_resp_dossier_field</td>
      <td>Nom responsable mgpp</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=bordereauForm:nxl_bordereau_responsable_acte:nxw_qualite_resp_dossier_field</td>
      <td>Qualité responsable mgpp</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=bordereauForm:nxl_bordereau_responsable_acte:nxw_tel_resp_dossier_field</td>
      <td>0123456789</td>
    </tr>
    <tr>
      <td>select</td>
      <td>id=bordereauForm:nxl_bordereau_indexation:nxw_indexation_rubriques_select_index_menu</td>
      <td>label=Action sociale, santé, sécurité sociale</td>
    </tr>
    <tr>
      <td>watchA4jRequests</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>id=bordereauForm:nxl_bordereau_indexation:nxw_indexation_rubriques_addIndexImage</td>
      <td>label=Action sociale, santé, sécurité sociale</td>
    </tr>
    <tr>
      <td>waitForA4jRequest</td>
      <td>30000</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//img[@title='Sauvegarder le bordereau']</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//img[@alt='Verrouiller']</td>
      <td></td>
    </tr>
    <!-- Ajout etape pour attribution secteur parlementaire -->
    <tr>
      <td>clickAndWait</td>
      <td>link=Feuille de route</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//*[@id='dm_route_elements:nxl_feuille_route_instance_listing:nxw_dr_listing_step_actions:titleref']/img[@alt='Actions']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>id=dm_route_elements:nxl_feuille_route_instance_listing:nxw_dr_listing_step_actions:nxw_dr_listing_step_actions_add:addStepInForActionList:0:step_0</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id='selectRouteElementsTypeForCreationForm:selectRouteElementsTypePanelHeader']</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>id=selectRouteElementsTypeForCreationForm:selectRouteElementsTypeForCreationTable:0:selectRouteElementTypeForCreationCategory:0:selectRouteElementsTypeForCreationCategoryTable:0:createRouteElementLink</td>
      <td></td>
    </tr>
    <tr>
      <td>select</td>
      <td>document_create:nxl_routing_task_detail:routing_task_type</td>
      <td>label=Pour attribution au secteur parlementaire</td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_findButton']/img</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_selectNodeOrganigrammePanelCDiv</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3::min:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0::dir:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0::dir:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0:node:1::nxw_routing_task_distribution_mailbox_addPst</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0:node:1::nxw_routing_task_distribution_mailbox_addPst</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementNotPresent</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_selectNodeOrganigrammePanelCDiv</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>id=document_create:button_create</td>
      <td></td>
    </tr>
    <!-- Ajout etape pour Publication DILA -->
    <tr>
      <td>click</td>
      <td>//*[@id='dm_route_elements:nxl_feuille_route_instance_listing_1:nxw_dr_listing_step_actions_1:titleref']/img[@alt='Actions']</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>id=dm_route_elements:nxl_feuille_route_instance_listing_1:nxw_dr_listing_step_actions_1:nxw_dr_listing_step_actions_1_add:addStepInForActionList:1:step_0</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id='selectRouteElementsTypeForCreationForm:selectRouteElementsTypePanelHeader']</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>id=selectRouteElementsTypeForCreationForm:selectRouteElementsTypeForCreationTable:0:selectRouteElementTypeForCreationCategory:0:selectRouteElementsTypeForCreationCategoryTable:0:createRouteElementLink</td>
      <td></td>
    </tr>
    <tr>
      <td>select</td>
      <td>document_create:nxl_routing_task_detail:routing_task_type</td>
      <td>label=Pour publication à la DILA JO</td>
    </tr>
    <tr>
      <td>click</td>
      <td>//a[@id='document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_findButton']/img</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_selectNodeOrganigrammePanelCDiv</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3::min:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0::dir:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0::dir:handle:img:collapsed</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_tree:node:0:node:3:node:0:node:1::nxw_routing_task_distribution_mailbox_addPst</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementNotPresent</td>
      <td>document_create:nxl_routing_task_detail:nxw_routing_task_distribution_mailbox_selectNodeOrganigrammePanelCDiv</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>id=document_create:button_create</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//*[@title='Lancer le dossier']</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=Traitement</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=Administrateurs SOLON (1)</td>
      <td></td>
    </tr>
    <!--     Déconnexion -->
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/logout</td>
      <td></td>
    </tr>
  </tbody>
</table>
</body>
</html>
