<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Verification OEP (après Injection)</title>
<link rel="selenium.base" href="http://localhost:8180/"/>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
  <thead>
    <tr>
      <td rowspan="1" colspan="3">Verification OEP (après Injection)</td>
    </tr>
  </thead>
  <tbody>
    <!--Connexion-->
    <tr>
      <td>setTimeout</td>
      <td>120000</td>
      <td></td>
    </tr>
    <tr>
      <td>setSpeed</td>
      <td>200</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/logout</td>
      <td></td>
    </tr>
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/login.jsp</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>username</td>
      <td>adminsgg</td>
    </tr>
    <tr>
      <td>type</td>
      <td>password</td>
      <td>adminsgg</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>Submit</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>userServicesForm:userServicesActionsTable:6:userServicesActionCommandLink</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=OEP</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Liste des OEP (174)</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Désignation OEP (348)</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=Liste des OEP (174)</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>OEP_0000016P</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=OEP_0000016P</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//img[@src='/solon-epg/img/icons/lock_add_24.png']</td>
      <td></td>
    </tr>
    <tr>
      <td>assertElementPresent</td>
      <td>//*[@value='Diffuser']</td>
      <td></td>
    </tr>
    <tr>
      <td>assertElementPresent</td>
      <td>//*[@value='Enregistrer']</td>
      <td></td>
    </tr>
    <tr>
      <td>assertElementPresent</td>
      <td>//*[@value='Générer courrier']</td>
      <td></td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nomOrganisme']</td>
      <td>Conseil supérieur de la coopération</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_ministereRattachement']</td>
      <td>Ministère des solidarités et de la cohésion sociale</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_texteDuree']</td>
      <td>article 3 du décret n° 76-356 du 20 avril 1976</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_commentaire']</td>
      <td>Décret n°76-356 article 1er</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_texteRef']</td>
      <td>article 2 du décret n° 76-356 du 20 avril 1976</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nbDeputes']</td>
      <td>2</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nbSenateurs']</td>
      <td>2</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_dureeMAndat:nxw_fiche_OEP_dureeMandatAN']</td>
      <td>mandat parlementaire</td>
    </tr>
    <tr>
      <td>verifyValue</td>
      <td>//*[@id='create_fpoep:nxl_fiche_presentation_OEP_dureeMAndat:nxw_fiche_OEP_dureeMandatSE']</td>
      <td>mandat parlementaire</td>
    </tr>
    <!-- Ajout 1 representant AN -->
    <tr>
      <td>click</td>
      <td>//*[@id='create_fpoep:addRepresentantAN']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//*[@id='create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_representant_an_suggest']</td>
      <td></td>
    </tr>
    <tr>
      <td>typeKeys</td>
      <td>id=create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_representant_an_suggest</td>
      <td>ass</td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//table[@id='create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_representant_an_suggestionBox:suggest']/tbody/tr/td[2]</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//table[@id='create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_representant_an_suggestionBox:suggest']/tbody/tr/td[2]</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//*[@id='create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_representant_an_delete']</td>
      <td></td>
    </tr>
    <tr>
      <td>select</td>
      <td>id=create_fpoep:nxl_representant_oep_AN:nxw_representant_oep_fonction</td>
      <td>label=Titulaire</td>
    </tr>
    <!-- Ajout 1 representant SE -->
    <tr>
      <td>click</td>
      <td>//*[@id='create_fpoep:addRepresentantSE']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//*[@id='create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_representant_se_suggest']</td>
      <td></td>
    </tr>
    <tr>
      <td>typeKeys</td>
      <td>id=create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_representant_se_suggest</td>
      <td>sén</td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//table[@id='create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_representant_se_suggestionBox:suggest']/tbody/tr/td[2]</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//table[@id='create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_representant_se_suggestionBox:suggest']/tbody/tr/td[2]</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForElementPresent</td>
      <td>//*[@id='create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_representant_se_delete']</td>
      <td></td>
    </tr>
    <tr>
      <td>select</td>
      <td>id=create_fpoep:nxl_representant_oep_SE:nxw_representant_oep_fonction_1</td>
      <td>label=Suppléant</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//*[@value='Enregistrer']</td>
      <td></td>
    </tr>
    <!-- Unlock -->
    <tr>
      <td>clickAndWait</td>
      <td>//img[@src='/solon-epg/img/icons/lock_error_24.png']</td>
      <td></td>
    </tr>
    <!-- FDD -->
    <tr>
      <td>clickAndWait</td>
      <td>link=Fond de dossier</td>
      <td></td>
    </tr>
    <tr>
      <td>click</td>
      <td>//*[@value='Adresser une demande de désignation au SGG']</td>
      <td></td>
    </tr>
    <tr>
      <td>waitForVisible</td>
      <td>//*[@id=&quot;editFileFormFP:uploadParapheurFilesFP:file&quot;]</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>//input[@type='file']</td>
      <td>/root/mgpp/doc2012.doc</td>
    </tr>
    <tr>
      <td>waitForTextPresent</td>
      <td>Téléchargement effectué</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//a[@id='editFileFormFP:editFileButtonImageFP']</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>doc2012.doc</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Désignation OEP (350)</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=Désignation OEP (350)</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>OEP_0000016P</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Sénat</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Sénat</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Assemblée nationale</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>OEP-02 : Demande de désignation au sein d'un organisme extraparlementaire</td>
      <td></td>
    </tr>
    <!-- Verification suppleant pour SE -->
    <tr>
      <td>clickAndWait</td>
      <td>id=corbeille_message_list:nxl_corbeille_message_listing_layout_1:nxw_idDossier_widget_1:msgName</td>
      <td></td>
    </tr>
    <tr>
      <td>verifyText</td>
      <td>//*[@id='nxw_metadonnees_evenement_parlementaireSuppleantList']</td>
      <td>*M. Sénat Sénat*</td>
    </tr>
    <!-- Verification titulaire pour AN -->
    <tr>
      <td>clickAndWait</td>
      <td>link=Désignation OEP (350)</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>id=corbeille_message_list:nxl_corbeille_message_listing_layout_2:nxw_idDossier_widget_2:msgName</td>
      <td></td>
    </tr>
    <tr>
      <td>verifyText</td>
      <td>//*[@id='nxw_metadonnees_evenement_parlementaireTitulaireList']</td>
      <td>*M. Assemblée Nationale*</td>
    </tr>
    <!-- création d'un OEP -->
    <tr>
      <td>clickAndWait</td>
      <td>//*[@value='Ajouter un oep']</td>
      <td></td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_idCommun</td>
      <td>1</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nomOrganisme</td>
      <td>Nom OEP</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_ministereRattachement</td>
      <td>ministereRattachement</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_ministereRattachement2</td>
      <td>ministereRattachement2</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_ministereRattachement3</td>
      <td>ministereRattachement3</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_texteRef</td>
      <td>texteRef</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_texteDuree</td>
      <td>texteDuree</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_commentaire</td>
      <td>commentaire</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_observation</td>
      <td>observation</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nbDeputes</td>
      <td>5</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_general:nxw_fiche_OEP_nbSenateurs</td>
      <td>12</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_coordonnees:nxw_fiche_OEP_adresse</td>
      <td>9 Avenue Charles de Gaulle 69771 St Didier au Mont D'Or</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_coordonnees:nxw_fiche_OEP_tel</td>
      <td>0123456789</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_coordonnees:nxw_fiche_OEP_fax</td>
      <td>9876543210</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_coordonnees:nxw_fiche_OEP_mail</td>
      <td>oep@solon-mgpp.com</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_dureeMAndat:nxw_fiche_OEP_dureeMandatAN</td>
      <td>dureeMandatAN</td>
    </tr>
    <tr>
      <td>type</td>
      <td>id=create_fpie:nxl_fiche_presentation_OEP_dureeMAndat:nxw_fiche_OEP_dureeMandatSE</td>
      <td>dureeMandatSE</td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>//*[@value='Enregistrer']</td>
      <td></td>
    </tr>
    <tr>
      <td>assertTextPresent</td>
      <td>Liste des OEP (175)</td>
      <td></td>
    </tr>
    <!-- Verification création -->
    <tr>
      <td>clickAndWait</td>
      <td>link=Liste des OEP (175)</td>
      <td></td>
    </tr>
    <tr>
      <td>clickAndWait</td>
      <td>link=OEP_0000001P</td>
      <td></td>
    </tr>
    <!-- Déconnexion -->
    <tr>
      <td>open</td>
      <td>http://localhost:8180/solon-epg/logout</td>
      <td></td>
    </tr>
  </tbody>
</table>
</body>
</html>
