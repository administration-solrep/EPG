<div xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxdir="http://nuxeo.org/nxdirectory"
  xmlns:nxl="http://nuxeo.org/nxforms/layout" >
  
  <c:if test="#{widget.mode != 'create' and widget.mode != 'edit'}">
    <nxdir:directoryEntryOutput localize="false" value="#{field}" directoryName="${widget.properties['directoryName']}" />
  </c:if>
  <c:if test="#{widget.mode == 'create' or widget.mode == 'edit'}">
    <h:selectOneRadio id="#{widget.id}_select" value="#{field}" required="#{widget.required}" immediate="true" valueChangeListener="#{organigrammeManagerActions.selectUstType}">
      <nxdir:selectItems id="#{widget.id}" directoryName="${widget.properties['directoryName']}" var="item" itemValue="#{item.vocabulary.id}" itemLabel="#{item.vocabulary.label}" />
      <a4j:support ajaxSingle="true" event="onclick" reRender="#{layout.mode}UniteStructurelleForm:#{layout.id}:nxw_entites_parentes_panel" eventsQueue="ajax_events_queue" />
    </h:selectOneRadio>
    <h:message styleClass="errorMessage" for="#{widget.id}_select" id="#{widget.id}_message" />
  </c:if>
  
</div>