<div xmlns:h="http://java.sun.com/jsf/html"
	xmlns:nxu="http://nuxeo.org/nxweb/util"
	xmlns:nxl="http://nuxeo.org/nxforms/layout"
	xmlns:nxh="http://nuxeo.org/nxweb/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:c="http://java.sun.com/jstl/core">

<script type="text/javascript">
	var j = jQuery.noConflict();
	j(document).ready(function() {
		var sectionid;
		j("html, body").scrollTop(j(#{texteMaitreActions.scrollTo}).offset().top);
	});
</script>

<style>
	.dataFiche{
		width : auto !important;
	}
	
	.dataFiche td{
		border : 0px !important;
	}
	
	.dataFicheTable{
		width : auto !important;
	}
	
	.dataFicheTable .labelColumn{
		width : auto !important;
	}
	
</style>
<h:form id="fiche_signaletique">
	<nxu:set var="ficheSignaletique" value="#{activiteNormativeActions.getCurrentFicheSignaletiqueApplicationOrdonnance()}" cache="true">
		<div class="foldableBox" > <!-- Info ordonnance -->
				<h3 class="folded">
					<a href="#nologo" onclick="return toggleBox(this)">Ordonnance</a>
				</h3>
			<div class="boxBody">
				<nxl:layout value="#{ficheSignaletique}" mode="#{layoutMode}" name="fiche_signaletique_info_ordonnance" />
			</div>
		</div>
		<div class="foldableBox" > <!-- Mesures -->
				<h3 class="folded">
					<a href="#nologo" onclick="return toggleBox(this)">Mesures d'application</a>
				</h3>
			<div class="boxBody">
				<nxl:layout value="#{ficheSignaletique}" mode="#{layoutMode}" name="fiche_signaletique_mesures_application" />
			</div>
		</div>
		<div class="foldableBox" > <!-- Observation -->
				<h3 class="folded">
					<a href="#nologo" onclick="return toggleBox(this)">Observation</a>
				</h3>
			<div class="boxBody">
				<nxl:layout value="#{ficheSignaletique}" mode="#{layoutMode}" name="fiche_signaletique_observation" />
			</div>
		</div>
		<div class="foldableBox" ><!-- Repartion ministeres -->
				<h3 class="folded">
					<a href="#nologo" onclick="return toggleBox(this)">Répartition par ministère</a>
				</h3>
			<div class="boxBody">
				<table class="dataOutput dataFicheTable">
					<tbody>
						<c:forEach var="key" items="#{ficheSignaletique.repartititionMinisteres.keySet}" varStatus="status">
							<tr class="#{nxu:test(status.index % 2 == 1, 'dataRowOdd', 'dataRowEven')}">
								<td class="labelColumn">	
									<span>#{key}</span>
								</td>
								<td>
									<h:outputText value="#{ficheSignaletique.repartititionMinisteres.get(key)}" />
								</td>
							</tr>
						</c:forEach>
					</tbody>
				</table>
			</div>
		</div>
		<div class="foldableBox" ><!-- Délai publication -->
				<h3 class="folded">
					<a href="#nologo" onclick="return toggleBox(this)">Délai d'application de l'ordonnance</a>
				</h3>
			<div class="boxBody">
				<table class="dataOutput dataFicheTable">
					<tbody>
						<c:forEach var="key" items="#{ficheSignaletique.delaiPublication.keySet}" varStatus="status">
							<tr class="#{nxu:test(status.index % 2 == 1, 'dataRowOdd', 'dataRowEven')}">
								<td class="labelColumn">	
									<span>#{key}</span>
								</td>
								<td>
									<h:outputText value="#{ficheSignaletique.delaiPublication.get(key)}" />
								</td>
							</tr>
						</c:forEach>
					</tbody>
				</table>
			</div>
		</div>
	</nxu:set>
</h:form>
</div>
