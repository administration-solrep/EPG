var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};window.initSimpleFilePicker=function(){document.querySelectorAll(".form-file").forEach(function(a){a.classList.contains("mounted")||(a.classList.add("mounted"),new SimpleFilePicker(a))})};
var SimpleFilePicker=function(a){this.container=a;this.input=a.querySelector("input");this.fileList=a.querySelector(".form-file__file-label-list");this.isMultiple="true"===a.getAttribute("data-multiple");this.trigerer=a.querySelector(".form-file__label");this.template=a.querySelector(".form-file__file-label-item[hidden]").cloneNode(!0);this.isUploadEnabled=!0;this.bindUploadEvent();this.checkUploadAvailability()};
SimpleFilePicker.prototype.bindUploadEvent=function(){var a=this;this.input.addEventListener("dragover",function(a){a.preventDefault()});this.input.addEventListener("drop",function(b){b.preventDefault();a.handleFileUpload(b.dataTransfer.files)});this.input.addEventListener("change",function(){a.isUploadEnabled&&a.handleFileUpload(a.input.files)})};
SimpleFilePicker.prototype.handleFileUpload=function(a){var b=this;if(this.isMultiple)a.forEach(function(a){var c=b.template.cloneNode(!0),d=c.querySelector("input"),e=c.querySelector(".file-label__content-inner"),f=c.querySelector("input[type\x3d'text']"),g=c.querySelector("input[type\x3d'text'] + .file-label__content-inner"),h=e.getAttribute("for").split("_")[0],k=randomId();e.setAttribute("for",h+"_"+k);d.setAttribute("id",h+"_"+k);d.files[0]=a;e.textContent=a.name;null!==f&&null!==g&&(g.setAttribute("for",
h+"_"+k+"_file-name"),g.textContent="."+a.name.split(".").pop(),f.setAttribute("id",h+"_"+k+"_file-name"),f.value=a.name.replace(/\.[^/.]+$/,""));c.removeAttribute("hidden");d.setAttribute("disabled","disabled");d.setAttribute("aria-disabled","true");d=c.querySelector(".file-label__button");tippy(d,{content:d.getAttribute("data-tippy-content"),appendTo:d.parentNode});d.addEventListener("click",function(){c.parentNode.removeChild(c);b.checkUploadAvailability();b.handleFocusPosition()});if(d=d.querySelector(".sr-only"))d.textContent=
d.textContent+" "+a.name;b.fileList.appendChild(c)});else{var c=b.template.cloneNode(!0),d=c.querySelector("input"),e=c.querySelector(".file-label__content-inner"),f=c.querySelector("input[type\x3d'text']"),g=c.querySelector("input[type\x3d'text'] + .file-label__content-inner"),h=e.getAttribute("for").split("_")[0],k=randomId();e.setAttribute("for",h+"_"+k);d.setAttribute("id",h+"_"+k);d.files[0]=a[0];e.textContent=a[0].name;null!==f&&null!==g&&(g.setAttribute("for",h+"_"+k+"_file-name"),g.textContent=
"."+a[0].name.split(".").pop(),f.setAttribute("id",h+"_"+k+"_file-name"),f.value=a[0].name.replace(/\.[^/.]+$/,""));c.removeAttribute("hidden");d.setAttribute("disabled","disabled");d.setAttribute("aria-disabled","true");d=c.querySelector(".file-label__button");tippy(d,{content:d.getAttribute("data-tippy-content"),appendTo:d.parentNode});d.addEventListener("click",function(){c.parentNode.removeChild(c);b.checkUploadAvailability();b.handleFocusPosition()});if(d=d.querySelector(".sr-only"))d.textContent=
d.textContent+" "+a[0].name;b.fileList.appendChild(c)}this.input.value="";this.checkUploadAvailability()};SimpleFilePicker.prototype.checkUploadAvailability=function(){this.isMultiple||(1===this.getFileCount()?this.disableUpload():this.enableUpload())};SimpleFilePicker.prototype.enableUpload=function(){this.isUploadEnabled=!0;this.trigerer.classList.remove("form-file__label--disabled");this.input.removeAttribute("disabled")};
SimpleFilePicker.prototype.disableUpload=function(){this.isUploadEnabled=!1;this.trigerer.classList.add("form-file__label--disabled");this.input.setAttribute("disabled","disabled")};SimpleFilePicker.prototype.getFileCount=function(){return this.fileList.childNodes.length-1};SimpleFilePicker.prototype.handleFocusPosition=function(){if(1<this.fileList.childNodes.length){var a=this.fileList.childNodes[1];if(a&&(a=a.querySelector(".file-label__button")))return a.focus(),!0}this.handleNextField()};
SimpleFilePicker.prototype.handleNextField=function(){var a=this,b=!1;this.container.parentNode.children.forEach(function(c){if(b){var d=c.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])');d&&d[0]&&(d[0].focus(),b=!1)}c===a.container&&(b=!0)})};function randomId(){return Math.floor(Math.random()*(new Date).getTime())}
var CLASS_TOGGLE_OPENED="header-menu__toggle--opened",CLASS_MENU_OPENED="header-menu--opened",CLASS_MENU_ITEM_HIDDEN="header-menu-item--hidden",CLASS_MENU_ITEM_ACTIVE="header-menu-item--active",CLASS_MENU_SUBITEMLIST_ACTIVE="header-menu-item__subitem-list--visible";
window.initHeaderMenu=function(){var a=document.querySelectorAll(".header-menu");a&&a.forEach(function(a){a.classList.contains("mounted")||(a.classList.add("mounted"),MenuManager.getMenuToggle(a).addEventListener("click",function(){MenuManager.isMenuOpened(a)?MenuManager.closeMenu(a):(MenuManager.openMenu(a),MenuManager.MainMenu.focusFirstItemInMenu(a))}),document.body.addEventListener("click",function(b){!$(b.target).closest(".header-menu").get(0)&&MenuManager.isMenuOpened(a)&&MenuManager.closeMenu(a)}),
document.addEventListener("keydown",function(b){"Escape"===b.key&&MenuManager.isMenuOpened(a)&&MenuManager.closeMenu(a)}),MenuManager.getMenu(a).addEventListener("click",function(b){b.target.classList.contains("header-menu__backdrop")&&MenuManager.closeMenu(a)}),MenuManager.getMenuItemsLinks(a).forEach(function(b){MenuManager.itemHasChildren(b)&&(b.addEventListener("click",function(){MenuManager.itemClick(a,b.parentNode)}),b.addEventListener("keydown",function(c){"ArrowRight"===c.key&&MenuManager.itemClick(a,
b.parentNode)}))}),a.addEventListener("keyup",function(b){var c=document.activeElement;c.classList.contains("header-menu__toggle")&&MenuManager.MainMenu.focusFirstItemInMenu(a);c.classList.contains("header-menu__focustrap-last")&&(b.preventDefault(),MenuManager.MainMenu.focusActiveItem(a))}),MenuManager.getMenuItemsLinks(a).forEach(function(b){b.addEventListener("keyup",function(c){if(MenuManager.isSubMenuOpened(b))"ArrowDown"===c.key&&(c=document.activeElement,c.classList.contains("header-menu-item__label")&&
MenuManager.SubMenu.focusFirstItem(c));else{var d=MenuManager.getMainItemPosition(a,b),e=MenuManager.getMenuItemsLinks(a).length;"ArrowDown"===c.key&&d<e&&MenuManager.MainMenu.goToNextItem(a,b);"ArrowUp"===c.key&&0<d&&MenuManager.MainMenu.goToPreviousItem(a,b)}});var c=MenuManager.getSublistItems(MenuManager.getItemSublist(b.parentNode));c&&(b.addEventListener("click",function(a){a.preventDefault()}),c.forEach(function(c){c.addEventListener("keyup",function(d){var e=MenuManager.getSubItemPosition(b.parentNode,
c),f=MenuManager.getSublistItems(b.parentNode).length;"ArrowDown"===d.key&&e<f&&MenuManager.SubMenu.goToNextItem(b.parentNode,c);"ArrowLeft"===d.key&&MenuManager.backToMainMenu(a);"ArrowUp"===d.key&&(0===e?MenuManager.SubMenu.focusLabel(c):MenuManager.SubMenu.goToPreviousItem(b.parentNode,c))})}))}))})};
var MenuManager={isMenuOpened:function(a){return a.classList.contains(CLASS_MENU_OPENED)},isItemActive:function(a){return a.classList.contains(CLASS_MENU_ITEM_ACTIVE)},getMainItemPosition:function(a,b){var c=0,d=!0;MenuManager.getMenuItemsLinks(a).forEach(function(a){a===b?d=!1:d&&c++});return c},isSubMenuOpened:function(a){return(a=a.parentNode.querySelector(".header-menu-item__subitem-list"))?a.classList.contains("header-menu-item__subitem-list--visible"):!1},getSubItemPosition:function(a,b){var c=
0,d=!0;MenuManager.getSublistItems(a).forEach(function(a){a===b?d=!1:d&&c++});return c},itemHasChildren:function(a){return!!MenuManager.getItemSublist(a.parentNode)},getMenuToggle:function(a){return a.querySelector(".header-menu__toggle")},getMenu:function(a){return a.querySelector(".header-menu__menu-list")},getMenuItems:function(a){return a.querySelectorAll(".header-menu .header-menu__menu-list .header-menu-item")},getMenuItemsLinks:function(a){return a.querySelectorAll(".header-menu .header-menu__menu-list .header-menu-item .header-menu-item__label")},
getItemSublist:function(a){return a.querySelector(".header-menu-item__subitem-list")},getSublistItems:function(a){return a&&a.querySelectorAll(".header-menu-item__subitem")},openMenu:function(a){MenuManager.getMenuToggle(a).classList.add(CLASS_TOGGLE_OPENED);MenuManager.getMenuToggle(a).setAttribute("tabindex","-1");a.classList.add(CLASS_MENU_OPENED);a.parentNode.parentNode.classList.add("header--menu-opened");MenuManager.getMenuToggle(a).setAttribute("aria-expanded","true");window.toggleNoScroll(!1)},
closeMenu:function(a){MenuManager.getMenuToggle(a).classList.remove(CLASS_TOGGLE_OPENED);MenuManager.getMenuToggle(a).removeAttribute("tabindex");MenuManager.getMenuToggle(a).focus();a.parentNode.parentNode.classList.remove("header--menu-opened");a.classList.remove(CLASS_MENU_OPENED);MenuManager.getMenuToggle(a).setAttribute("aria-expanded","false");window.toggleNoScroll(!0)},itemClick:function(a,b){MenuManager.isItemActive(b)?(b.classList.remove(CLASS_MENU_ITEM_ACTIVE),MenuManager.getItemSublist(b).classList.remove(CLASS_MENU_SUBITEMLIST_ACTIVE),
MenuManager.backToMainMenu(a)):MenuManager.activeItem(a,b)},activeItem:function(a,b){MenuManager.getMenuItems(a).forEach(function(a){var c=a.querySelector("a"),e=a.querySelector(".header-menu-item__back");a===b?(a.classList.add(CLASS_MENU_ITEM_ACTIVE),MenuManager.getItemSublist(a).classList.add(CLASS_MENU_SUBITEMLIST_ACTIVE),c&&c.setAttribute("aria-expanded","true"),e&&e.setAttribute("aria-hidden","false"),MenuManager.SubMenu.focusFirstItem(a,!0)):(a.classList.add(CLASS_MENU_ITEM_HIDDEN),c&&c.setAttribute("aria-expanded",
"false"),e&&e.setAttribute("aria-hidden","true"))})},backToMainMenu:function(a){MenuManager.getMenuItems(a).forEach(function(a){var b=a.querySelector("a"),d=a.querySelector(".header-menu-item__back");a.classList.contains(CLASS_MENU_ITEM_HIDDEN)&&a.classList.remove(CLASS_MENU_ITEM_HIDDEN);a.classList.contains(CLASS_MENU_ITEM_ACTIVE)&&a.classList.remove(CLASS_MENU_ITEM_ACTIVE);b&&b.setAttribute("aria-expanded","false");d&&d.setAttribute("aria-hidden","true");(a=a.querySelector("."+CLASS_MENU_SUBITEMLIST_ACTIVE))&&
a.classList.remove(CLASS_MENU_SUBITEMLIST_ACTIVE)});MenuManager.MainMenu.focusFirstItemInMenu(a)},MainMenu:{focusFirstItemInMenu:function(a){MenuManager.getMenuItemsLinks(a)[0].focus()},goToNextItem:function(a,b){(a=MenuManager.getMenuItemsLinks(a)[MenuManager.getMainItemPosition(a,b)+1])&&a.focus()},goToPreviousItem:function(a,b){(a=MenuManager.getMenuItemsLinks(a)[MenuManager.getMainItemPosition(a,b)-1])&&a.focus()},focusActiveItem:function(a){MenuManager.getMenuItems(a).forEach(function(a){"true"===
a.getAttribute("data-current")&&a.querySelector("a").focus()})}},SubMenu:{focusFirstItem:function(a){var b;(b=1<arguments.length&&void 0!==arguments[1]&&arguments[1]?a.querySelector(".header-menu-item__subitem-list"):a.parentNode.querySelector(".header-menu-item__subitem-list"))&&MenuManager.getSublistItems(b)[0].querySelector("a").focus()},goToNextItem:function(a,b){(a=MenuManager.getSublistItems(a)[MenuManager.getSubItemPosition(a,b)+1])&&a.querySelector("a").focus()},goToPreviousItem:function(a,
b){(a=MenuManager.getSublistItems(a)[MenuManager.getSubItemPosition(a,b)+-1])&&a.querySelector("a").focus()},focusLabel:function(a){a.parentNode.parentNode.querySelector(".header-menu-item__label").focus()}}},debouncedTextUpdate=debounce(maxlengthTextUpdate,500);document.body.addEventListener("input",listenFormMaxChar);document.body.addEventListener("paste",listenFormMaxChar);document.body.addEventListener("cut",listenFormMaxChar);
function listenFormMaxChar(a){a=a.target;a.classList.contains("js-text-input-max-length")&&(updateInputValueLengthCounter(a),debouncedTextUpdate(a))}function updateInputValueLengthCounter(a){var b=$(a).closest(".form-input").get(0).querySelector(".form-input__max-length__value");b&&(b.innerText=a.value.length)}
function maxlengthTextUpdate(a){if($(a).closest(".form-input").get(0).querySelector(".form-input__max-length__value")){var b=parseInt($(a).closest(".form-input").get(0).querySelector(".form-input__max-length__max").textContent);$(a).closest(".form-input").get(0).querySelector(".form-input__max-length-reached").textContent=a.value.length===b?"Nombre maximum de "+b+" caractères atteint.":a.value.length+" caractères saisis sur "+b+"."}}
function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b);g&&a.apply(e,f)}}
window.initBackToTop=function(){document.querySelectorAll(".back-to-top").forEach(function(a){a.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"});setTimeout(function(){document.getElementById("topmenubutton").focus()},500)})});window.addEventListener("scroll",function(){window.scrollY>=window.innerHeight?document.querySelectorAll(".back-to-top").forEach(function(a){a.classList.add("back-to-top--visible")}):document.querySelectorAll(".back-to-top").forEach(function(a){a.classList.contains("back-to-top--visible")&&
a.classList.remove("back-to-top--visible")})})};SVGElement.prototype.contains||(SVGElement.prototype.contains=HTMLDivElement.prototype.contains);
window.initDropdown=function(){window.dropDowns={};document.querySelectorAll(".base-drop-down__button").forEach(function(a){if(!a.classList.contains("mounted")){var b=null;a.classList.add("mounted");var c=a.parentNode.getAttribute("data-drop-group");""!==c&&(window.dropDowns[c]=null);a.addEventListener("click",function(){if(a.parentNode.querySelector(".base-drop-down__button--opened"))a.parentNode.querySelector(".base-drop-down__button").classList.remove("base-drop-down__button--opened"),b=a.parentNode.querySelector(".base-drop-down__drop"),
b.classList.remove("base-drop-down__drop--visible"),""!==c&&(window.dropDowns[c]=null),a.setAttribute("aria-expanded","false");else{if(""!==c&&window.dropDowns[c]){var d=window.dropDowns[c];d.querySelector(".base-drop-down__button").classList.remove("base-drop-down__button--opened");b=d.querySelector(".base-drop-down__drop");b.classList.remove("base-drop-down__drop--visible");b.setAttribute("aria-expanded","false")}a.parentNode.querySelector(".base-drop-down__button").classList.add("base-drop-down__button--opened");
b=a.parentNode.querySelector(".base-drop-down__drop");b.classList.add("base-drop-down__drop--visible");a.setAttribute("aria-expanded","true");b.style.minWidth=a.parentNode.querySelector(".base-drop-down__button").offsetWidth+"px";""!==c&&(window.dropDowns[c]=a.parentNode)}});var d=a.parentNode;d.addEventListener("focusout",function(a){d.contains(a.relatedTarget)||(d.querySelector(".base-drop-down__button").classList.remove("base-drop-down__button--opened"),b=d.querySelector(".base-drop-down__drop"),
b.classList.remove("base-drop-down__drop--visible"),d.querySelector(".base-drop-down__button").setAttribute("aria-expanded","false"))})}})};
window.initAutocomplete=function(){window.autocomplete={};var a={data:["option1","option2","option3","option4","option5"],minCharNumber:3,highlightPhrase:!0,adjustWidth:!1,theme:"round",list:{match:{enabled:!0}}};document.querySelectorAll(".form-input__field--type-autocomplete").forEach(function(b){b.classList.contains("mounted")||(b.classList.add("mounted"),$(b).easyAutocomplete(a))})};
var monthPickerMode={NONE:"none",FIRST:"first",LAST:"last"},CalendarButtonInput=function(a,b,c){this.inputNode=a;this.buttonNode=b;this.imageNode=!1;this.datepicker=c;this.defaultLabel="Choose Date";this.keyCode=Object.freeze({ENTER:13,SPACE:32})};CalendarButtonInput.prototype.init=function(){this.buttonNode.addEventListener("click",this.handleClick.bind(this));this.buttonNode.addEventListener("keydown",this.handleKeyDown.bind(this));this.buttonNode.addEventListener("focus",this.handleFocus.bind(this))};
CalendarButtonInput.prototype.handleKeyDown=function(a){var b=!1;switch(a.keyCode){case this.keyCode.SPACE:case this.keyCode.ENTER:this.datepicker.show(),this.datepicker.setFocusDay(),b=!0}b&&(a.stopPropagation(),a.preventDefault())};CalendarButtonInput.prototype.handleClick=function(){this.datepicker.isOpen()?this.datepicker.hide():(this.datepicker.show(),this.datepicker.setFocusDay());event.stopPropagation();event.preventDefault()};
CalendarButtonInput.prototype.setLabel=function(a){"string"===typeof a&&a.length&&(a=", "+a);this.buttonNode.setAttribute("aria-label",this.defaultLabel+a)};CalendarButtonInput.prototype.setFocus=function(){this.buttonNode.focus()};
CalendarButtonInput.prototype.setDate=function(a){if(this.datepicker.monthPicker)switch(this.datepicker.monthDayPick){case monthPickerMode.FIRST:this.inputNode.value="01/"+formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear();this.datepicker.nextField&&""===this.datepicker.nextField.value&&(this.datepicker.nextField.value=lastDayOfMonth(a.getFullYear(),a.getMonth())+"/"+formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear());break;case monthPickerMode.LAST:this.inputNode.value=lastDayOfMonth(a.getFullYear(),
a.getMonth())+"/"+formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear();this.datepicker.prevField&&""===this.datepicker.prevField.value&&(this.datepicker.prevField="01/"+formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear());break;default:this.inputNode.value=formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear()}else this.inputNode.value=formatTwoDigits(a.getDate())+"/"+formatTwoDigits(a.getMonth()+1)+"/"+a.getFullYear()};CalendarButtonInput.prototype.getDate=function(){return this.inputNode.value};
CalendarButtonInput.prototype.getDateLabel=function(){var a="",b=this.inputNode.value.split("/");if(3===b.length&&Number.isInteger(parseInt(b[0]))&&Number.isInteger(parseInt(b[1]))&&Number.isInteger(parseInt(b[2])))var a=parseInt(b[1]),c=parseInt(b[0])-1,b=parseInt(b[2]),a=this.datepicker.getDateForButtonLabel(b,a,c);return a};CalendarButtonInput.prototype.handleFocus=function(){var a=this.getDateLabel();a?this.setLabel("la date sélectionnée est le "+a):this.setLabel("")};
var DatePickerDay=function(a,b,c,d,e){this.index=c;this.row=d;this.column=e;this.day=new Date;this.domNode=a;this.datepicker=b;this.keyCode=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};
DatePickerDay.prototype.init=function(){this.domNode.setAttribute("tabindex","-1");this.domNode.addEventListener("mousedown",this.handleMouseDown.bind(this));this.domNode.addEventListener("keydown",this.handleKeyDown.bind(this));this.domNode.addEventListener("focus",this.handleFocus.bind(this));this.domNode.innerHTML="-1"};DatePickerDay.prototype.isDisabled=function(){return this.domNode.classList.contains("disabled")};
DatePickerDay.prototype.updateDay=function(a,b){a?this.domNode.classList.add("disabled"):this.domNode.classList.remove("disabled");this.day=new Date(b);this.domNode.innerHTML=this.day.getDate();this.domNode.setAttribute("tabindex","-1");this.domNode.removeAttribute("aria-selected");a=this.day.getDate().toString();9>this.day.getDate()&&(a="0"+a);b=this.day.getMonth()+1;9>this.day.getMonth()&&(b="0"+b);this.domNode.setAttribute("data-date",this.day.getFullYear()+"-"+b+"-"+a)};
DatePickerDay.prototype.handleKeyDown=function(a){var b=!1;switch(a.keyCode){case this.keyCode.ESC:this.datepicker.hide();break;case this.keyCode.TAB:this.datepicker.cancelButtonNode.focus();a.shiftKey&&this.datepicker.nextYearNode.focus();this.datepicker.setMessage("");b=!0;break;case this.keyCode.ENTER:case this.keyCode.SPACE:this.datepicker.setTextboxDate(this.day);this.datepicker.hide();b=!0;break;case this.keyCode.RIGHT:this.datepicker.moveFocusToNextDay();b=!0;break;case this.keyCode.LEFT:this.datepicker.moveFocusToPreviousDay();
b=!0;break;case this.keyCode.DOWN:this.datepicker.moveFocusToNextWeek();b=!0;break;case this.keyCode.UP:this.datepicker.moveFocusToPreviousWeek();b=!0;break;case this.keyCode.PAGEUP:a.shiftKey?this.datepicker.moveToPreviousYear():this.datepicker.moveToPreviousMonth();b=!0;break;case this.keyCode.PAGEDOWN:a.shiftKey?this.datepicker.moveToNextYear():this.datepicker.moveToNextMonth();b=!0;break;case this.keyCode.HOME:this.datepicker.moveFocusToFirstDayOfWeek();b=!0;break;case this.keyCode.END:this.datepicker.moveFocusToLastDayOfWeek(),
b=!0}b&&(a.stopPropagation(),a.preventDefault())};DatePickerDay.prototype.handleMouseDown=function(a){this.isDisabled()?this.datepicker.moveFocusToDay(this.date):(this.datepicker.setTextboxDate(this.day),this.datepicker.hide());a.stopPropagation();a.preventDefault()};DatePickerDay.prototype.handleFocus=function(){this.datepicker.setMessage(this.datepicker.messageCursorKeys)};
var DatePicker=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:monthPickerMode.NONE,f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,g=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;this.dayLabels="Dimanche Lundi Mardi Mercredi Jeudi Vendredi Samedi".split(" ");this.monthLabels="Janvier Février Mars Avril Mai Juin Juillet Août Septembre Octobre Novembre Décembre".split(" ");this.messageCursorKeys=
"Cursor keys can navigate dates";this.lastMessage="";this.inputNode=a;this.buttonNode=b;this.dialogNode=c;this.messageNode=c.querySelector(".message");this.monthPicker=d;this.monthDayPick=e;this.prevField=g;this.nextField=f;this.dateInput=new CalendarButtonInput(this.inputNode,this.buttonNode,this);this.MonthYearNode=this.dialogNode.querySelector(".monthYear");this.prevYearNode=this.dialogNode.querySelector(".prevYear");this.prevMonthNode=this.dialogNode.querySelector(".prevMonth");this.nextMonthNode=
this.dialogNode.querySelector(".nextMonth");this.nextYearNode=this.dialogNode.querySelector(".nextYear");this.okButtonNode=this.dialogNode.querySelector('button[value\x3d"ok"]');this.cancelButtonNode=this.dialogNode.querySelector('button[value\x3d"ok"]');this.tbodyNode=this.dialogNode.querySelector("table.dates tbody");this.lastRowNode=null;this.days=[];this.focusDay=new Date;this.selectedDay=new Date(0,0,1);this.isMouseDownOnBackground=!1;this.keyCode=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,
PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};
DatePicker.prototype.init=function(){this.dateInput.init();this.okButtonNode.addEventListener("click",this.handleOkButton.bind(this));this.okButtonNode.addEventListener("keydown",this.handleOkButton.bind(this));this.cancelButtonNode.addEventListener("click",this.handleCancelButton.bind(this));this.cancelButtonNode.addEventListener("keydown",this.handleCancelButton.bind(this));this.prevMonthNode.addEventListener("click",this.handlePreviousMonthButton.bind(this));this.nextMonthNode.addEventListener("click",
this.handleNextMonthButton.bind(this));this.prevYearNode.addEventListener("click",this.handlePreviousYearButton.bind(this));this.nextYearNode.addEventListener("click",this.handleNextYearButton.bind(this));this.prevMonthNode.addEventListener("keydown",this.handlePreviousMonthButton.bind(this));this.nextMonthNode.addEventListener("keydown",this.handleNextMonthButton.bind(this));this.prevYearNode.addEventListener("keydown",this.handlePreviousYearButton.bind(this));this.nextYearNode.addEventListener("keydown",
this.handleNextYearButton.bind(this));document.body.addEventListener("mousedown",this.handleBackgroundMouseDown.bind(this),!0);document.body.addEventListener("mouseup",this.handleBackgroundMouseUp.bind(this),!0);this.tbodyNode.innerHTML="";for(var a=0,b=0;6>b;b++){var c=this.tbodyNode.insertRow(b);this.lastRowNode=c;c.classList.add("dateRow");for(var d=0;7>d;d++){var e=document.createElement("td");e.classList.add("dateCell");var f=document.createElement("button");f.classList.add("dateButton");e.appendChild(f);
c.appendChild(e);e=new DatePickerDay(f,this,a,b,d);e.init();this.days.push(e);a++}}this.updateGrid();this.setFocusDay()};
DatePicker.prototype.updateGrid=function(){var a,b,c=this.focusDay,d=null;this.nextField&&""!==this.nextField.value&&(d=this.nextField.value.split("/"),d=new Date(d[2]+"-"+d[1]+"-"+d[0]));var e=null;this.prevField&&""!==this.prevField.value&&(e=this.prevField.value.split("/"),e=new Date(e[2]+"-"+e[1]+"-"+e[0]));this.MonthYearNode.innerHTML=this.monthLabels[c.getMonth()]+" "+c.getFullYear();a=new Date(c.getFullYear(),c.getMonth(),1);var f=(new Date(c.getFullYear(),c.getMonth()+1,0)).getDate(),g=a.getDay()-
1;a.setDate(a.getDate()-g);var h=new Date(a);for(a=0;a<this.days.length;a++)b=h.getMonth()!==c.getMonth(),this.days[a].updateDay(b,h),h.getFullYear()===this.selectedDay.getFullYear()&&h.getMonth()===this.selectedDay.getMonth()&&h.getDate()===this.selectedDay.getDate()&&this.days[a].domNode.setAttribute("aria-selected","true"),h.setDate(h.getDate()+1),this.days[a].domNode.classList.remove("dateButton--ranged"),this.days[a].domNode.classList.remove("dateButton--other-selected"),b=this.days[a].day,this.selectedDay&&
-2208989361E3!==this.selectedDay.getTime()&&-22089924E5!==this.selectedDay.getTime()&&(d&&b.getTime()<d.getTime()&&b.getTime()>this.selectedDay.getTime()&&this.days[a].domNode.classList.add("dateButton--ranged"),e&&b.getTime()>e.getTime()&&b.getTime()<this.selectedDay.getTime()&&this.days[a].domNode.classList.add("dateButton--ranged")),e&&b.getFullYear()===e.getFullYear()&&b.getMonth()===e.getMonth()&&b.getDate()===e.getDate()&&this.days[a].domNode.classList.add("dateButton--other-selected"),d&&b.getFullYear()===
d.getFullYear()&&b.getMonth()===d.getMonth()&&b.getDate()===d.getDate()&&this.days[a].domNode.classList.add("dateButton--other-selected"),d&&b.getTime()>d.getTime()&&this.days[a].domNode.classList.add("disabled"),e&&b.getTime()<e.getTime()&&this.days[a].domNode.classList.add("disabled");36>g+f?this.hideLastRow():this.showLastRow()};DatePicker.prototype.hideLastRow=function(){this.lastRowNode.style.visibility="hidden"};DatePicker.prototype.showLastRow=function(){this.lastRowNode.style.visibility="visible"};
DatePicker.prototype.setFocusDay=function(a){"boolean"!==typeof a&&(a=!0);var b=this.focusDay;this.days.forEach(function(c){c.domNode.setAttribute("tabindex","-1");c.day.getDate()==b.getDate()&&c.day.getMonth()==b.getMonth()&&c.day.getFullYear()==b.getFullYear()&&(c.domNode.setAttribute("tabindex","0"),a&&c.domNode.focus())}.bind(this))};
DatePicker.prototype.updateDay=function(a){var b=this.focusDay;this.focusDay=a;if(b.getMonth()!==a.getMonth()||b.getFullYear()!==a.getFullYear())this.updateGrid(),this.setFocusDay()};DatePicker.prototype.getDaysInLastMonth=function(){var a=this.focusDay;return(new Date(a.getFullYear(),a.getMonth(),0)).getDate()};DatePicker.prototype.getDaysInMonth=function(){var a=this.focusDay;return(new Date(a.getFullYear(),a.getMonth()+1,0)).getDate()};
DatePicker.prototype.show=function(){this.dialogNode.style.display="block";this.dialogNode.style.zIndex=2;this.getDateInput();this.updateGrid();this.setFocusDay()};DatePicker.prototype.isOpen=function(){return $(this.dialogNode).is(":visible")};DatePicker.prototype.hide=function(){this.setMessage("");this.dialogNode.style.display="none";this.hasFocusFlag=!1;this.dateInput.setFocus()};
DatePicker.prototype.handleBackgroundMouseDown=function(a){this.buttonNode.contains(a.target)||this.dialogNode.contains(a.target)||(this.isMouseDownOnBackground=!0,this.isOpen()&&(this.hide(),a.stopPropagation(),a.preventDefault()))};DatePicker.prototype.handleBackgroundMouseUp=function(){this.isMouseDownOnBackground=!1};
DatePicker.prototype.handleOkButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ENTER:case this.keyCode.SPACE:this.setTextboxDate();this.hide();b=!0;break;case this.keyCode.TAB:a.shiftKey||(this.prevYearNode.focus(),b=!0);break;case this.keyCode.ESC:this.hide(),b=!0}break;case "click":this.setTextboxDate(),this.hide(),b=!0}b&&(a.stopPropagation(),a.preventDefault())};
DatePicker.prototype.handleCancelButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ENTER:case this.keyCode.SPACE:this.hide();b=!0;break;case this.keyCode.ESC:this.hide(),b=!0}break;case "click":this.hide(),b=!0}b&&(a.stopPropagation(),a.preventDefault())};
DatePicker.prototype.handleNextYearButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ESC:this.hide();b=!0;break;case this.keyCode.ENTER:case this.keyCode.SPACE:this.moveToNextYear(),this.setFocusDay(!1),b=!0}break;case "click":this.moveToNextYear(),this.setFocusDay(!1)}b&&(a.stopPropagation(),a.preventDefault())};
DatePicker.prototype.handlePreviousYearButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ENTER:case this.keyCode.SPACE:this.moveToPreviousYear();this.setFocusDay(!1);b=!0;break;case this.keyCode.TAB:a.shiftKey&&(this.okButtonNode.focus(),b=!0);break;case this.keyCode.ESC:this.hide(),b=!0}break;case "click":this.moveToPreviousYear(),this.setFocusDay(!1)}b&&(a.stopPropagation(),a.preventDefault())};
DatePicker.prototype.handleNextMonthButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ESC:this.hide();b=!0;break;case this.keyCode.ENTER:case this.keyCode.SPACE:this.moveToNextMonth(),this.setFocusDay(!1),b=!0}break;case "click":this.moveToNextMonth(),this.setFocusDay(!1)}b&&(a.stopPropagation(),a.preventDefault())};
DatePicker.prototype.handlePreviousMonthButton=function(a){var b=!1;switch(a.type){case "keydown":switch(a.keyCode){case this.keyCode.ESC:this.hide();b=!0;break;case this.keyCode.ENTER:case this.keyCode.SPACE:this.moveToPreviousMonth(),this.setFocusDay(!1),b=!0}break;case "click":this.moveToPreviousMonth(),this.setFocusDay(!1),b=!0}b&&(a.stopPropagation(),a.preventDefault())};DatePicker.prototype.moveToNextYear=function(){this.focusDay.setFullYear(this.focusDay.getFullYear()+1);this.updateGrid()};
DatePicker.prototype.moveToPreviousYear=function(){this.focusDay.setFullYear(this.focusDay.getFullYear()-1);this.updateGrid()};DatePicker.prototype.moveToNextMonth=function(){this.focusDay.setMonth(this.focusDay.getMonth()+1);this.updateGrid()};DatePicker.prototype.moveToPreviousMonth=function(){this.focusDay.setMonth(this.focusDay.getMonth()-1);this.updateGrid()};
DatePicker.prototype.moveFocusToDay=function(a){var b=this.focusDay;this.focusDay=a;b.getMonth()===this.focusDay.getMonth()&&b.getYear()===this.focusDay.getYear()||this.updateGrid();this.setFocusDay()};DatePicker.prototype.moveFocusToNextDay=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()+1);this.moveFocusToDay(a)};DatePicker.prototype.moveFocusToNextWeek=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()+7);this.moveFocusToDay(a)};
DatePicker.prototype.moveFocusToPreviousDay=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()-1);this.moveFocusToDay(a)};DatePicker.prototype.moveFocusToPreviousWeek=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()-7);this.moveFocusToDay(a)};DatePicker.prototype.moveFocusToFirstDayOfWeek=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()-a.getDay());this.moveFocusToDay(a)};
DatePicker.prototype.moveFocusToLastDayOfWeek=function(){var a=new Date(this.focusDay);a.setDate(a.getDate()+(6-a.getDay()));this.moveFocusToDay(a)};DatePicker.prototype.setTextboxDate=function(a){a?this.dateInput.setDate(a):this.dateInput.setDate(this.focusDay)};
DatePicker.prototype.getDateInput=function(){var a=this.dateInput.getDate().split("/");3===a.length&&Number.isInteger(parseInt(a[0]))&&Number.isInteger(parseInt(a[1]))&&Number.isInteger(parseInt(a[2]))?(this.focusDay=new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0])),this.selectedDay=new Date(this.focusDay)):(this.focusDay=new Date,this.selectedDay=new Date(0,0,1))};
DatePicker.prototype.getDateForButtonLabel=function(a,b,c){this.selectedDay="number"!==typeof a||"number"!==typeof b||"number"!==typeof c?this.focusDay:new Date(a,b,c);a=this.dayLabels[this.selectedDay.getDay()];a+=" "+this.monthLabels[this.selectedDay.getMonth()];a+=" "+this.selectedDay.getDate();return a+=", "+this.selectedDay.getFullYear()};
DatePicker.prototype.setMessage=function(a){function b(){this.messageNode.textContent=a}a!==this.lastMessage&&(setTimeout(b.bind(this),200),this.lastMessage=a)};
window.initDatePicker=function(){document.querySelectorAll(".datepicker").forEach(function(a){if(!a.classList.contains("mounted")){a.classList.add("mounted");var b=a.querySelector("input"),c=a.querySelector("button"),d=a.querySelector("[role\x3ddialog]"),e="true"===a.getAttribute("data-monthpicker"),f=a.getAttribute("data-monthpickermode"),g=a.getAttribute("data-nextfield"),h=a.getAttribute("data-prevfield"),k=null;g&&(k=a.parentNode.querySelector("input[name\x3d"+g+"]"));g=null;h&&(g=a.parentNode.querySelector("input[name\x3d"+
h+"]"));(new DatePicker(b,c,d,e,f,k,g)).init();var l=a.querySelector("input");l&&l.addEventListener("keyup",function(){l.classList.remove("form-date-picker-input__form-input--error");l.removeAttribute("aria-invalid");var a=l.value;if(""!==a){var b="^([0-2][0-9]|(3)[0-1])(\\/)(((0)[0-9])|((1)[0-2]))(\\/)\\d{4}$";e&&(b="(((0)[0-9])|((1)[0-2]))(\\/)\\d{4}$");a.match(b)||(l.classList.add("form-date-picker-input__form-input--error"),l.setAttribute("aria-invalid","true"))}})}});document.querySelectorAll(".date-picker-dialog__dialog-button--month-picker").forEach(function(a){a.addEventListener("click",
function(a){a=a.target.parentNode.parentNode;var b=a.parentNode.getAttribute("data-monthpickermode"),d=a.querySelector(".header").querySelector("h2"),b=monthYearStringToInputFormat(d.innerText,b);a.parentNode.querySelector("input").value=b;a.style.display="none";a.parentNode.querySelector("button").focus()})})};function formatTwoDigits(a){return 1===a.length||10>a?"0"+a:a}function lastDayOfMonth(a,b){return(new Date(a,b+1,0)).getDate()}
function monthYearStringToInputFormat(a,b){a=a.split(" ");var c={janvier:"01","février":"02",mars:"03",avril:"04",mai:"05",juin:"06",juillet:"07","août":"08",septembre:"09",octobre:"10",novembre:"11","décembre":"12"};return"first"===b?"01/"+c[a[0].toLowerCase()]+"/"+a[1]:"last"===b?lastDayOfMonth(a[1],c[a[0].toLowerCase()])+"/"+c[a[0].toLowerCase()]+"/"+a[1]:c[a[0].toLowerCase()]+"/"+a[1]}
document.body.addEventListener("click",function(a){if(a=$(a.target).closest(".loader-overlay__trigger").get(0))a=a.getAttribute("aria-controls"),$("#"+a).fadeIn("slow")});document.body.addEventListener("click",function(a){if(a=$(a.target).closest(".loader-overlay__close").get(0))a=a.getAttribute("aria-controls"),$("#"+a).fadeOut("slow")});
document.body.addEventListener("click",function(a){if(a=$(a.target).closest(".js-form-input-action").get(0))a=$(a).closest(".form-input").get(0),a.querySelector(".form-input__field").classList.contains("form-input__field--type-password")&&handlePasswordVisibility(a)});
function handlePasswordVisibility(a){var b=a.querySelector(".form-input__field"),c=a.querySelector(".form-input__action-icon");a=a.querySelector(".form-input__action");"text"===b.getAttribute("type")?(b.setAttribute("type","password"),c.classList.remove("icon--eye"),c.classList.add("icon--stroked-eye"),a.title="Voir le mot de passe",a.querySelector(".sr-only").innerHTML="Voir le mot de passe"):(b.setAttribute("type","text"),c.classList.remove("icon--stroked-eye"),c.classList.add("icon--eye"),a.title=
"Masquer le mot de passe",a.querySelector(".sr-only").innerHTML="Masquer le mot de passe")}
window.initRichText=function(){window.tinyMCE.init({selector:".form-rich-text-field__field",body_class:"form-rich-text-field__editor",plugins:"paste fullscreen table help",toolbar:"undo redo styleselect bold italic subscript superscript alignleft aligncenter alignright alignjustify outdent indent fullscreen",toolbar_mode:"wrap",height:400,content_css:"css/main.css",importcss_append:!0,a11y_advanced_options:!0,language:"fr_FR"})};
window.onload=function(){initWindowHelpers();initHeaderMenu();initBackToTop();initComplexSelects();initToolTip();initSimpleFilePicker();initSelects();initRichText();initProgressBar();initLetterSlider();initInterstitial();initSeeMore();initEllipsedContent();initDropdown();initDatePicker();initCustomTable();initActionTable();initEllipsedContent();initTabs();initProgressBar();initDataGrid();initAutocomplete()};
window.initEllipsedContent=function(){document.querySelectorAll(".ellipsed-content").forEach(function(a){if(!a.classList.contains("mounted")){a.classList.add("mounted");var b=a.querySelector(".ellipsed-content__full-content"),c=a.querySelector(".ellipsed-content__content");a=b.childNodes[0].textContent;if(95>=a.length)c.innerHTML="\x3cp class\x3d'ellipsed-content__paragraph'\x3e"+a+"\x3c/p\x3e";else{c.innerHTML="\x3cp class\x3d'ellipsed-content__paragraph'\x3e"+a.substring(0,95)+"... \x3c/p\x3e"+
c.innerHTML;a=b.querySelector(".ellipsed-content__full-content-button");var d=c.querySelector(".ellipsed-content__content-button");a&&a.addEventListener("click",function(){b.classList.remove("ellipsed-content__full-content--expanded");b.setAttribute("hidden","hidden");c.classList.remove("ellipsed-content__content--hidden");c.removeAttribute("hidden");b.removeAttribute("tabindex");d.focus({preventScroll:!0})});d&&d.addEventListener("click",function(){b.classList.add("ellipsed-content__full-content--expanded");
b.removeAttribute("hidden");c.classList.add("ellipsed-content__content--hidden");c.setAttribute("hidden","hidden");b.setAttribute("tabindex","-1");b.focus()})}}})};window.initDataGrid=function(){document.querySelectorAll(".file-tree-table__table").forEach(function(a){a.classList.contains("mounted")||(a.classList.add("mounted"),new DataGrid(a))})};var DataGrid=function(a){this.table=a;this.initGridCellAttributes();this.initGridCellEvents()};DataGrid.prototype.getAllCells=function(){return this.table.querySelectorAll("td, th")};
DataGrid.prototype.getActiveCell=function(){return this.table.querySelector("td[tabindex\x3d'0'], th[tabindex\x3d'0']")};DataGrid.prototype.getTableLines=function(){return this.table.querySelectorAll("tr")};DataGrid.prototype.getLineCells=function(a){return a.querySelectorAll("th, td")};DataGrid.prototype.initGridCellAttributes=function(){this.getAllCells().forEach(function(a,b){0===b?a.setAttribute("tabindex","0"):a.setAttribute("tabindex","-1")})};
DataGrid.prototype.initGridCellEvents=function(){var a=this;this.table.addEventListener("keydown",function(b){switch(b.keyCode){case KeyCodeHelper.UP:a.navigateUp();break;case KeyCodeHelper.DOWN:a.navigateDown();break;case KeyCodeHelper.LEFT:a.navigateLeft();break;case KeyCodeHelper.RIGHT:a.navigateRight();break;case KeyCodeHelper.TAB:if(b.target.parentNode.classList.contains("table-line__action-column-container")){b.preventDefault();var c=a.getFocusableElements(a.getActiveCell()),d=void 0;c.forEach(function(a,
c){a===b.target&&(d=c)});b.shiftKey?0===d?a.navigateLeft():c[d-1]&&c[d-1].focus():c[d+1]&&c[d+1].focus()}}})};DataGrid.prototype.navigateUp=function(){var a=this.getActiveCell(),a=this.getCellCoordinates(a);(a=this.getCellAtCoord(a.line-1,a.column))&&this.focusCell(a)};DataGrid.prototype.navigateDown=function(){var a=this.getActiveCell(),a=this.getCellCoordinates(a);(a=this.getCellAtCoord(a.line+1,a.column))&&this.focusCell(a)};
DataGrid.prototype.navigateLeft=function(){var a=this.getActiveCell(),a=this.getCellCoordinates(a);(a=this.getCellAtCoord(a.line,a.column-1))&&this.focusCell(a)};DataGrid.prototype.navigateRight=function(){var a=this.getActiveCell(),a=this.getCellCoordinates(a);(a=this.getCellAtCoord(a.line,a.column+1))&&this.focusCell(a)};
DataGrid.prototype.getCellAtCoord=function(a,b){var c=this,d=void 0;this.getTableLines().forEach(function(e,f){f!==a||d||c.getLineCells(e).forEach(function(a,c){c!==b||d||(d=a)})});return d};DataGrid.prototype.getCellCoordinates=function(a){return{line:this.getCellLine(a),column:this.getCellColumn(a)}};DataGrid.prototype.getCellLine=function(a){var b=void 0,c=a.parentNode;this.getTableLines().forEach(function(a,e){a!==c||b||(b=e)});return b};
DataGrid.prototype.getCellColumn=function(a){var b=void 0;a.parentNode.querySelectorAll("th, td").forEach(function(c,d){a!==c||b||(b=d)});return b};DataGrid.prototype.focusCell=function(a){this.getActiveCell().setAttribute("tabindex","-1");a.setAttribute("tabindex",0);this.findFocusableElement(a)?this.findFocusableElement(a).focus():a.focus()};
DataGrid.prototype.findFocusableElement=function(a){a=a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])');if(0<a.length)return a[0]};DataGrid.prototype.getFocusableElements=function(a){return a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])')};var KeyCodeHelper={UP:38,DOWN:40,LEFT:37,RIGHT:39,TAB:9};
window.initProgressBar=function(){var a=document.getElementsByClassName("js-progressbar__bar");Array.prototype.forEach.call(a,function(a){var b=a.getAttribute("aria-valuenow");a.style.width=b+"%"})};
window.initToolTip=function(){document.querySelectorAll("[data-tippy-content]").forEach(function(a){if(!a.classList.contains("tooltipMounted")){a.classList.add("tooltipMounted");var b=tippy(a,{appendTo:a.parentNode});bindTipCloseOnKey(a,b);bindTipCloseOnBlur(a,b)}});var a=document.querySelector("#myButton");a&&!a.classList.contains("tooltipMounted")&&(a.classList.add("tooltipMounted"),a=tippy("#myButton",{content:"This tooltip is defined in javascript!",appendTo:a.parentNode}),bindTipCloseOnKey(document.querySelector("#myButton"),
a[0]),bindTipCloseOnBlur(document.querySelector("#myButton"),a[0]))};window.reloadTooltip=function(){document.querySelectorAll("[data-tippy-content]").forEach(function(a){a._tippy.setContent(a.getAttribute("data-tippy-content"))})};function bindTipCloseOnKey(a,b){a.addEventListener("keydown",function(a){"Escape"!==a.key&&"Esc"!==a.key||b.hide()})}function bindTipCloseOnBlur(a,b){a.addEventListener("blur",function(){b.hide()})}
var TABLE_ACTION_CLASS="action-table",TABLE_ACTION_ITEM_SELECTOR=".table-action .table-action__item.base-btn",BASE_DROPDOWN_BUTTON_SELECTOR=".table-action .base-drop-down__button",TABLE_ACTION_LINE_CHECKBOX_SELECTOR=".js-custom-table-line-check",TABLE_ACTION_HEADER_CHECKBOX_SELECTOR=".js-custom-table-header-check",DISABLED_TOOLTIP_TEXT="Sélectionner un élément pour activer les actions";
window.initActionTable=function(){var a=document.querySelectorAll("."+TABLE_ACTION_CLASS);if(a.length){var b=null,c=null,d=null,e=null,f=null,g=!0,h=!1,k=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var l=a[Symbol.iterator](),m;!(g=(m=l.next()).done);g=!0){var t=m.value;t.classList.contains("mounted")||(t.classList.add("mounted"),c=t.querySelectorAll(TABLE_ACTION_ITEM_SELECTOR),d=t.querySelectorAll(BASE_DROPDOWN_BUTTON_SELECTOR),e=t.querySelectorAll(TABLE_ACTION_LINE_CHECKBOX_SELECTOR),
f=t.querySelector(TABLE_ACTION_HEADER_CHECKBOX_SELECTOR),b=t.querySelectorAll(".table-action__action-container"),ActionTableManager.initEvents(e,f,c,d,b))}}catch(A){h=!0,k=A}finally{try{g||null==l.return||l.return()}finally{if(h)throw k;}}}};
var ActionTableManager={initEvents:function(a,b,c,d,e){if(a.length){var f=!0,g=!1,h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var k=a[Symbol.iterator](),l;!(f=(l=k.next()).done);f=!0)l.value.addEventListener("change",function(b){var f=b.target.checked;b=!0;var g=!1,h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var k=a[Symbol.iterator](),l;!(b=(l=k.next()).done);b=!0)l.value.checked&&(f=!0)}catch(q){g=!0,h=q}finally{try{b||null==k.return||k.return()}finally{if(g)throw h;
}}k=!0;l=!1;b=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var n=c[Symbol.iterator](),m;!(k=(m=n.next()).done);k=!0){var p=m.value;p.disabled=f?!1:"disabled";var r=p.parentNode._tippy;if(f){var w=p.querySelector(".sr-only"),g=DISABLED_TOOLTIP_TEXT;w&&(g=w.textContent);r.setContent(g)}else r.setContent(DISABLED_TOOLTIP_TEXT)}}catch(q){l=!0,b=q}finally{try{k||null==n.return||n.return()}finally{if(l)throw b;}}n=!0;m=!1;p=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();
for(var u=d[Symbol.iterator](),x;!(n=(x=u.next()).done);n=!0){var v=x.value;v.disabled=f?!1:"disabled";var y=v.parentNode.parentNode._tippy;if(f){var z=v.querySelector(".sr-only"),r=DISABLED_TOOLTIP_TEXT;z&&(r=z.textContent);y.setContent(r)}else y.setContent(DISABLED_TOOLTIP_TEXT)}}catch(q){m=!0,p=q}finally{try{n||null==u.return||u.return()}finally{if(m)throw p;}}e.forEach(function(a){a.classList.contains("table-action__action-container--disabled")&&a.classList.remove("table-action__action-container--disabled");
f||a.classList.add("table-action__action-container--disabled")})})}catch(m){g=!0,h=m}finally{try{f||null==k.return||k.return()}finally{if(g)throw h;}}b.addEventListener("change",function(b){var f=!0,g=!1,h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var k=a[Symbol.iterator](),l;!(f=(l=k.next()).done);f=!0)l.value.checked=b.target.checked}catch(q){g=!0,h=q}finally{try{f||null==k.return||k.return()}finally{if(g)throw h;}}f=!0;g=!1;h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();
for(var n=c[Symbol.iterator](),m;!(f=(m=n.next()).done);f=!0){var p=m.value;p.disabled=b.target.checked?!1:"disabled";var r=p.parentNode._tippy;if(b.target.checked){var w=p.querySelector(".sr-only"),k=DISABLED_TOOLTIP_TEXT;w&&(k=w.textContent);r.setContent(k)}else r.setContent(DISABLED_TOOLTIP_TEXT)}}catch(q){g=!0,h=q}finally{try{f||null==n.return||n.return()}finally{if(g)throw h;}}n=!0;m=!1;p=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var u=d[Symbol.iterator](),x;!(n=(x=u.next()).done);n=
!0){var v=x.value;v.disabled=b.target.checked?!1:"disabled";var y=v.parentNode.parentNode._tippy;if(b.target.checked){var z=v.querySelector(".sr-only"),r=DISABLED_TOOLTIP_TEXT;z&&(r=z.textContent);y.setContent(r)}else y.setContent(DISABLED_TOOLTIP_TEXT)}}catch(q){m=!0,p=q}finally{try{n||null==u.return||u.return()}finally{if(m)throw p;}}e.forEach(function(a){a.classList.contains("table-action__action-container--disabled")&&a.classList.remove("table-action__action-container--disabled");b.target.checked||
a.classList.add("table-action__action-container--disabled")})})}}};document.body.addEventListener("click",function(a){if(a=$(a.target).closest(".js-alert-action").get(0)){var b=$(a).closest(".alert").get(0);fadeOut(b);setTimeout(function(){b.remove()},500)}});function fadeOut(a){a.style.opacity=1;(function c(){0>(a.style.opacity-=.1)?a.style.display="none":requestAnimationFrame(c)})()}var toggleComponentWithAutoHeight=["tree-navigation__list","accordion__content","sidebar__content"];
document.body.addEventListener("click",function(a){var b=$(a.target).closest(".js-toggle").get(0),c=$(a.target).closest(".js-toggle-zerog").get(0);b?(a.preventDefault(),a=b.getAttribute("aria-controls"),toggleDOMElement(a,b)):c&&(b=document.getElementById(c.dataset.simulate),a=b.getAttribute("aria-controls"),toggleDOMElement(a,b))});
function toggleDOMElement(a,b){var c=b.getAttribute("data-toggle");a=document.getElementById(a);var d=a.getAttribute("aria-hidden"),e=b.getAttribute("data-icon-opened"),f=b.getAttribute("data-icon-closed"),g=b.querySelector(".icon");if("true"===d){b.setAttribute("aria-expanded","true");b.getAttribute("data-title-opened")&&(b.title=b.getAttribute("data-title-opened"),b.querySelector(".sr-only").innerText=b.title);g&&(g.classList.remove("icon--"+f),g.classList.add("icon--"+e));if(!toggleComponentWithAutoHeight.includes(c)&&
"sidebar"!==c){var h=24;$(a).children().each(function(){h+=$(this).outerHeight(!0)});a.style.height=h+"px"}a.setAttribute("aria-hidden","false");a.classList.add(c+"--is-opened");a.classList.remove(c+"--is-closed");a.classList.contains("sidebar__content")&&(b=a.parentNode.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])'),b[0]&&b[0].focus())}else a.setAttribute("aria-hidden","true"),b.setAttribute("aria-expanded","false"),b.getAttribute("data-title-closed")&&
(b.title=b.getAttribute("data-title-closed"),b.querySelector(".sr-only").innerText=b.title,b.classList.remove("js-toggle--opened")),g&&(g.classList.remove("icon--"+e),g.classList.add("icon--"+f)),a.setAttribute("aria-hidden","true"),a.classList.remove(c+"--is-opened"),a.classList.add(c+"--is-closed")}
document.body.addEventListener("click",function(a){var b=$(a.target).closest(".js-copy").get(0);if(b){a=$(b).attr("data-copy");a=document.getElementById(a);var c,d;b.addEventListener("blur",function(){resetTipptyContent(b)});window.getSelection?(d=window.getSelection(),c=document.createRange(),c.selectNodeContents(a),d.removeAllRanges(),d.addRange(c)):document.body.createTextRange&&(c=document.body.createTextRange(),c.moveToElementText(a),c.select());d=(a=document.execCommand("copy"))?'"'+c+'" copié dans le presse-papier.':
"Une erreur est survenue. Veuillez réessayer.";var e=b.parentNode.querySelector(".link-copy__live");e&&(e.textContent=a?"Le numéro "+c+" a été copié dans le presse-papier":"Une erreur est survenue lors de la copie du numéro. Veuillez ré-essayer",setTimeout(function(){e.textContent=""},3E3));b._tippy.setContent(d);document.getSelection().removeAllRanges()}});
document.body.addEventListener("click",function(a){var b=$(a.target).closest(".js-copy-single").get(0);if(b){b.addEventListener("blur",function(){resetTipptyContent(b)});var c=$(b).attr("data-copy-content"),d;a=document.createElement("div");a.setAttribute("id","tmp-copy");document.body.appendChild(a);var e=document.getElementById("tmp-copy");e.append(c);window.getSelection?(c=window.getSelection(),d=document.createRange(),d.selectNodeContents(e),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&
(d=document.body.createTextRange(),d.moveToElementText(e),d.select());d=document.execCommand("copy")?'"'+d+'" copié dans le presse-papier.':"Une erreur est survenue. Veuillez réessayer.";document.body.removeChild(a);var f=b.parentNode.querySelector(".btn-copy__live");f&&(f.textContent=d,setTimeout(function(){f.textContent=""},3E3));b._tippy.setProps({trigger:"mouseenter click focus",content:d});document.getSelection().removeAllRanges()}});
function resetTipptyContent(a){var b=a._tippy;a=a.getAttribute("data-tippy-default-content");b.setContent(a)}
window.initSeeMore=function(){document.querySelectorAll(".see-more__toggler").forEach(function(a){if(!a.classList.contains("mounted")){var b;a.classList.add("mounted");a.addEventListener("click",function(){var c=a.parentNode.querySelector(".see-more__content");c.classList.contains("see-more__content--visible")?(b=a.getAttribute("data-label-more"),c.classList.remove("see-more__content--visible"),a.textContent=b+"...",a.setAttribute("aria-label",b),a.setAttribute("aria-expanded",!1),c.setAttribute("aria-hidden",
!0)):(b=a.getAttribute("data-label-less"),c.classList.add("see-more__content--visible"),a.textContent=b+"...",a.setAttribute("aria-label",b),a.setAttribute("aria-expanded",!0),c.setAttribute("aria-hidden",!1),c=c.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex\x3d"-1"])'),c[0]&&c[0].focus())})}})};
document.body.addEventListener("click",function(a){var b=$(a.target).closest(".js-toggle-folders").get(0);if(b){a.preventDefault();var b=$(b),c=b.closest(".last-folders");a=b.attr("data-is-hidden");c=c.find(".js-show-more-folders");"true"===a?(c.each(function(){$(this).removeClass("last-folders__folder-selected--hidden");$(this).attr("aria-hidden","false")}),b.attr("data-is-hidden","false"),b.text(b.attr("data-text-on-show"))):(c.each(function(){$(this).addClass("last-folders__folder-selected--hidden");
$(this).attr("aria-hidden","true")}),b.attr("data-is-hidden","true"),b.text(b.attr("data-text-on-hide")))}});
window.initProgressBar=function(){var a=$("div.bar-close");0<a.length&&a.each(function(){var a=$(this);$(this).mouseenter(function(){$(this).data("fotimeout")&&!$(this).hasClass("forceclose")&&($(this).stop(!0,!1).fadeIn(),clearTimeout($(this).data("fotimeout")),$(this).removeData("fotimeout"),$(this).find(".elapsed").stop(!0,!1).animate({width:"100%"},125,"linear"))}).mouseleave(function(){var b=setTimeout(function(){a.fadeOut("slow",function(){a.remove()})},3E3);$(this).find(".elapsed").length||
$(this).prepend('\x3cdiv class\x3d"elapsed"\x3e\x3c/div\x3e');$(this).find(".elapsed").animate({width:0},3E3,"linear");$(this).data("fotimeout",b)}).mouseleave().find(".remover").click(function(){var a=$(this).closest(".bar-close");a.addClass("forceclose");a.find(".elapsed").animate({width:0},125);a.fadeOut(function(){$(this).remove()})})})};document.body.addEventListener("click",function(a){$(a.target).closest(".block-toasts__trigger").get(0)&&$(".block-toasts").fadeIn("slow")});
document.body.addEventListener("click",function(a){$(a.target).closest(".block-toasts__close").get(0)&&$(".block-toasts").fadeOut("slow")});
window.initInterstitial=function(){document.querySelectorAll(".interstitial-overlay__trigger, .js-interstitial-trigger").forEach(function(a){a.addEventListener("click",function(b){b.preventDefault();var c=a.getAttribute("data-controls"),d=a.getAttribute("data-parameters");(c=c?$("#"+c)[0]:a.parentNode.querySelector(".interstitial-overlay__content"))&&!c.classList.contains("interstitial-overlay__content--visible")&&(c.classList.add("interstitial-overlay__content--visible"),modalFocus.currentDialog=
c.firstChild,modalFocus.enableTrapFocus(b.target),d&&parametersToHidden(d,c.id))})});document.querySelectorAll(".interstitial-overlay__content").forEach(function(a){a.addEventListener("click",function(a){a.target.classList.contains("interstitial-overlay__content--visible")&&(a.target.classList.remove("interstitial-overlay__content--visible"),modalFocus.disableTrapFocus(),modalFocus.currentDialog=null,(a=a.target.parentNode.querySelector(".interstitial-overlay__trigger, .js-interstitial-trigger"))&&
a.focus())})});document.querySelectorAll(".interstitial__button, .interstitial__close").forEach(function(a){a.addEventListener("click",function(a){a=$(a.target).closest(".interstitial-overlay__content").get(0);a.classList.contains("interstitial-overlay__content--visible")&&(a.classList.remove("interstitial-overlay__content--visible"),a=modalFocus.currentDialog,modalFocus.disableTrapFocus(),modalFocus.currentDialog=null,(a=a.parentNode.parentNode.querySelector(".interstitial-overlay__trigger, .js-interstitial-trigger"))&&
a.focus())})})};document.body.addEventListener("keyup",function(a){"Escape"!==a.key&&"Esc"!==a.key||!modalFocus.currentDialog||(a=modalFocus.currentDialog.parentNode,a.classList.contains("interstitial-overlay__content--visible")&&(a.classList.remove("interstitial-overlay__content--visible"),modalFocus.disableTrapFocus(),modalFocus.currentDialog=null,(a=a.parentNode.querySelector(triggerSelector))&&a.focus()))});
var modalFocus={currentDialog:null,trapFocus:function(a){var b=modalFocus.currentDialog;b&&b.contains(a.target)||(a.target.classList&&a.target.classList.contains("interstitial-overlay__trigger")?modalFocus.focusLastDescendant(b):modalFocus.focusFirstDescendant(b))},enableTrapFocus:function(a){document.addEventListener("focus",this.trapFocus,!0);modalFocus.focusFirstDescendant(modalFocus.currentDialog)},disableTrapFocus:function(){document.removeEventListener("focus",this.trapFocus,!0)},focusFirstDescendant:function(a){for(var b=
0;b<a.childNodes.length;b++){var c=a.childNodes[b];if(modalFocus.attemptFocus(c)||modalFocus.focusFirstDescendant(c))return!0}return!1},focusLastDescendant:function(a){for(var b=a.childNodes.length-1;0<=b;b--){var c=a.childNodes[b];if(modalFocus.attemptFocus(c)||modalFocus.focusLastDescendant(c))return!0}return!1},attemptFocus:function(a){if(!modalFocus.isFocusable(a))return!1;try{a.focus()}catch(b){}return document.activeElement===a},isFocusable:function(a){if(0<a.tabIndex||0===a.tabIndex&&null!==
a.getAttribute("tabIndex"))return!0;if(a.disabled)return!1;switch(a.nodeName){case "A":return!!a.href&&"ignore"!=a.rel;case "INPUT":return"hidden"!=a.type&&"file"!=a.type;case "BUTTON":case "SELECT":case "TEXTAREA":return!0;default:return!1}}};function parametersToHidden(a,b){a=a.split(";");for(var c=0;c<a.length;c++){var d=a[c].split("\x3d"),e=document.createElement("input");e.type="hidden";e.name=d[0];e.id=d[0];$("#"+e.id).remove();e.value=d[1];$("#"+b).append(e)}}
var CUSTOM_TABLE_WITH_CHECKBOXES_CLASS="custom-table--has-check",CUSTOM_TABLE_HEADER_CHECK_CLASS="js-custom-table-header-check",CUSTOM_TABLE_LINE_CHECK_CLASS="js-custom-table-line-check";
window.initCustomTable=function(){var a=document.getElementsByClassName(CUSTOM_TABLE_WITH_CHECKBOXES_CLASS);if(a.length){var b=null,c=null,d=!0,e=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){var k=h.value,b=k.querySelector("."+CUSTOM_TABLE_HEADER_CHECK_CLASS),c=k.querySelectorAll("."+CUSTOM_TABLE_LINE_CHECK_CLASS);CustomTableManager.initHeaderCheckEvents(b,c)}}catch(l){e=!0,f=l}finally{try{d||null==g.return||g.return()}finally{if(e)throw f;
}}}};var CustomTableManager={initHeaderCheckEvents:function(a,b){a&&a.addEventListener("input",function(a){a=a.target.checked;var c=!0,e=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var g=b[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0)h.value.checked=a}catch(k){e=!0,f=k}finally{try{c||null==g.return||g.return()}finally{if(e)throw f;}}})}},CLASS_NO_SCROLL="no-scroll";window.initWindowHelpers=function(){window.toggleNoScroll=WindowManager.toggleNoScroll};
var WindowManager={toggleNoScroll:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(document.body.classList.remove(CLASS_NO_SCROLL),document.documentElement.classList.remove(CLASS_NO_SCROLL)):(document.body.classList.add(CLASS_NO_SCROLL),document.documentElement.classList.add(CLASS_NO_SCROLL))}},BASE_SELECTOR_TABULATION="tabulation",BASE_SELECTOR_TABULATION_ITEM=BASE_SELECTOR_TABULATION+"__item",BASE_SELECTOR_TABULATION_CONTENT=BASE_SELECTOR_TABULATION+"__content",BASE_SELECTOR_TABULATION_JS=
"js-tabulation";
document.body.addEventListener("click",function(a){if((a=$(a.target).closest("."+BASE_SELECTOR_TABULATION_JS).get(0))&&!a.classList.contains("."+BASE_SELECTOR_TABULATION_ITEM+"--active")){var b=$(a).closest("."+BASE_SELECTOR_TABULATION).get(0);b.querySelectorAll("."+BASE_SELECTOR_TABULATION_ITEM+"--active").forEach(function(a){a&&(a.classList.remove(BASE_SELECTOR_TABULATION_ITEM+"--active"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-selected","false"))});b.querySelectorAll("."+BASE_SELECTOR_TABULATION_CONTENT+
"--active").forEach(function(a){a&&(a.classList.remove(BASE_SELECTOR_TABULATION_CONTENT+"--active"),a.setAttribute("aria-hidden","true"))});a.classList.add(BASE_SELECTOR_TABULATION_ITEM+"--active");a.removeAttribute("tabindex");a.setAttribute("aria-selected","true");if(a=b.querySelector("#"+a.getAttribute("aria-controls")))a.classList.add(BASE_SELECTOR_TABULATION_CONTENT+"--active"),a.setAttribute("aria-hidden","false"),(a=a.querySelector("button."+BASE_SELECTOR_TABULATION_ITEM))&&a.click()}});
window.initTabs=function(){document.querySelectorAll("."+BASE_SELECTOR_TABULATION_ITEM).forEach(function(a){a.classList.contains("mounted")||(a.classList.add("mounted"),a.addEventListener("keyup",function(b){var c=a.nextSibling,d=a.previousSibling;!c||"ArrowRight"!==b.key&&"Right"!==b.key||(c.focus(),c.click());!d||"ArrowLeft"!==b.key&&"Left"!==b.key||(d.focus(),d.click())}))})};
window.initSelects=function(){$(".js-select2-default").each(function(a,b){$(b).select2({multiple:!1,minimumResultsForSearch:-1,dropdownParent:$(b).closest(".form-select-input")})});$(".select2-selection").on("keydown",function(a){40===a.keyCode&&(a=$(a.target).closest(".form-select-input")[0].querySelector("select"))&&$(a).select2("open")});$(".js-select2-search").each(function(a,b){$(b).select2({multiple:!0,maximumSelectionLength:1,minimumInputLength:3,tags:!1,closeOnSelect:!0,dropdownParent:$(b).closest(".form-select-input"),
templateResult:function(a){return a.loading?a.text:markMatch(a.text,query.term||"")},language:{searching:function(a){query=a;return"Recherche…"}}}).change(function(a){$("#"+a.currentTarget.name+"-remove-all-button").toggleClass("form-select__button--hidden",""===a.currentTarget.value)})});$(".js-select2-search + .select2-container .select2-selection").addClass("select2-selection--search select2-selection--tags").addClass("");$(".js-select2-multiple").each(function(a,b){$(b).select2({multiple:!0,tags:!0,
closeOnSelect:!1,dropdownParent:$(b).closest(".form-select-input"),templateResult:function(a){return a.loading?a.text:markMatch(a.text,query.term||"")},language:{searching:function(a){query=a;return"Recherche…"}}})});$(".js-select2-tags").each(function(a,b){$(".js-select2-tags").select2({multiple:!0,tags:!1,closeOnSelect:!1,dropdownParent:$(b).closest(".form-select-input"),templateResult:function(a){return a.loading?a.text:markMatch(a.text,query.term||"")},language:{searching:function(a){query=a;
return"Recherche…"}}}).change(function(a){$("#"+a.currentTarget.name+"-remove-all-button").toggleClass("form-select__button--hidden",""===a.currentTarget.value);var b=$(this).select2("data").length;2<b&&$('\x3cli class\x3d"select2-selection__choice-counter"\x3e+'+(b-2)+"\x3c/li\x3e").insertBefore("#"+a.currentTarget.name+" + .select2-container .select2-search--inline")})});$(".js-select2-tags + .select2-container .select2-selection").addClass("select2-selection--tags");$(".js-select2-search-multi").select2({multiple:!0,
minimumInputLength:3,tags:!1,closeOnSelect:!1,templateResult:function(a){return a.loading?a.text:markMatch(a.text,query.term||"")},language:{searching:function(a){query=a;return"Recherche…"}}}).change(function(a){$("#"+a.currentTarget.name+"-remove-all-button").toggleClass("form-select__button--hidden",""===a.currentTarget.value);var b=$(this).select2("data").length;2<b&&$('\x3cli class\x3d"select2-selection__choice-counter"\x3e+'+(b-2)+"\x3c/li\x3e").insertBefore("#"+a.currentTarget.name+" + .select2-container .select2-search--inline")});
$(".js-select2-search-multi + .select2-container .select2-selection").addClass("select2-selection--tags select2-selection--search-multi");$(".js-select2-tags-remove-all").click(function(a){$("#"+a.currentTarget.dataset.inputName).val(null).trigger("change").select2("open")})};
function markMatch(a,b){var c=a.toUpperCase().indexOf(b.toUpperCase()),d=$("\x3cspan\x3e\x3c/span\x3e");if(0>c)return d.text(a);d.text(a.substring(0,c));var e=$('\x3cspan class\x3d"select2-rendered__match"\x3e\x3c/span\x3e');e.text(a.substring(c,c+b.length));d.append(e);d.append(a.substring(c+b.length));return d}
window.reloadSelects=function(){var a={default:"js-select2-default",search:"js-select2-search",multiple:"js-select2-multiple",tags:"js-select2-tags",searchMulti:"js-select2-search-multi"};for(type in a)if(a=$(".js-select2-"+type),a.length){var b=a.data("select2").options.options;a.select2("destroy").select2(b)}};
window.initComplexSelects=function(){var a=document.querySelectorAll(".form-complex-selector__select");a&&a.forEach(function(a){if(!a.classList.contains("mounted")){a.classList.add("mounted");isDisabled="disabled"===a.getAttribute("disabled");var b=new DualListbox("#"+a.getAttribute("id"),{addButtonText:"Ajouter",removeButtonText:"Enlever",addAllButtonText:"Tout ajouter",removeAllButtonText:"Tout enlever"});b.search.parentNode.removeChild(b.search);b.availableListTitle.parentNode.removeChild(b.availableListTitle);
b.selectedListTitle.parentNode.removeChild(b.selectedListTitle);a=$(b.add_button).clone(!0);var d=$(b.add_all_button).clone(!0),e=$(b.remove_button).clone(!0),f=$(b.remove_all_button).clone(!0),g=b.add_button.parentNode;a[0].classList.remove("dual-listbox__button");a[0].classList.add("dual-listbox__btn");a[0].classList.add("dual-listbox__btn--to-right");a[0].classList.add("base-btn");a[0].classList.add("base-btn--default");a[0].classList.add("base-btn--center");isDisabled&&(a[0].classList.add("base-btn--disabled"),
a[0].setAttribute("disabled","disabled"));d[0].classList.remove("dual-listbox__button");d[0].classList.add("dual-listbox__btn");d[0].classList.add("base-btn");d[0].classList.add("base-btn--light");d[0].classList.add("base-btn--default");d[0].classList.add("base-btn--bordered");d[0].classList.add("base-btn--transparent");d[0].classList.add("base-btn--center");isDisabled&&(d[0].classList.add("base-btn--disabled"),d[0].setAttribute("disabled","disabled"));e[0].classList.remove("dual-listbox__button");
e[0].classList.add("dual-listbox__btn");e[0].classList.add("dual-listbox__btn--to-left");e[0].classList.add("base-btn");e[0].classList.add("base-btn--default");e[0].classList.add("base-btn--center");isDisabled&&(e[0].classList.add("base-btn--disabled"),e[0].setAttribute("disabled","disabled"));f[0].classList.remove("dual-listbox__button");f[0].classList.add("dual-listbox__btn");f[0].classList.add("base-btn");f[0].classList.add("base-btn--light");f[0].classList.add("base-btn--default");f[0].classList.add("base-btn--bordered");
f[0].classList.add("base-btn--transparent");f[0].classList.add("base-btn--center");isDisabled&&(f[0].classList.add("base-btn--disabled"),f[0].setAttribute("disabled","disabled"));isDisabled||($(a).on("click",function(){b.add_button.click()}),$(d).on("click",function(){b.add_all_button.click()}),$(e).on("click",function(){b.remove_button.click()}),$(f).on("click",function(){b.remove_all_button.click()}));$(g).append(a);$(g).append(e);$(g).append(d);$(g).append(f);isDisabled||(bindItemEvents(b.availableList.childNodes,
isDisabled),bindItemEvents(b.selectedList.childNodes,isDisabled))}})};
function bindItemEvents(a){a.forEach(function(a){a.classList.contains("mounted")||(a.classList.add("mounted"),a.setAttribute("tabIndex","0"),a.addEventListener("keyup",function(b){if("ArrowUp"===b.key||"Up"===b.key){var c=a.previousSibling;c&&(c.click(),c.focus())}if("ArrowDown"===b.key||"Down"===b.key)if(c=a.nextSibling)c.click(),c.focus();"Enter"===b.key&&(b=document.createEvent("MouseEvents"),b.initEvent("dblclick",!0,!0),a.dispatchEvent(b),a.focus())}))})}
window.initLetterSlider=function(){document.querySelectorAll(".letter-index-slider").forEach(function(a){if(!a.classList.contains("mounted")){a.classList.add("mounted");var b=new Swiper(a.querySelector(".js-letter-index-slider"),{a11y:{enabled:!1},keyboard:{enabled:!1},init:!1,slidesPerView:"auto",autoHeight:!0,speed:400,navigation:{nextEl:".js-letter-index-slider-button-next",prevEl:".js-letter-index-slider-button-prev",disabledClass:"letter-index-slider__pagination-button--disabled",hiddenClass:"letter-index-slider__pagination-button--hidden",
clickable:!0}});b.init();var c=a.querySelector(".js-letter-index-slider-button-next");c&&c.removeAttribute("role");(c=a.querySelector(".js-letter-index-slider-button-prev"))&&c.removeAttribute("role");a.querySelectorAll(".letter-index-slider__swiper-wrapper .letter-index-slider__letter-button").forEach(function(a,c){a.addEventListener("focus",function(){var c=a.parentNode;c.parentNode.firstChild===c&&b.slideTo(0)});a.addEventListener("keydown",function(d){if("ArrowRight"===d.key||"Right"===d.key){var e=
a.parentNode.nextSibling;e&&e.querySelector(".letter-index-slider__letter-button").focus();5<c&&b.slideNext()}if("ArrowLeft"===d.key||"Left"===d.key)(e=a.parentNode.previousSibling)&&e.querySelector(".letter-index-slider__letter-button").focus(),20>c&&b.slidePrev();"Tab"===d.key&&!1===d.shiftKey&&5<c&&b.slideNext();"Tab"===d.key&&!0===d.shiftKey&&20>c&&b.slidePrev()})})}})};
var firstLoad=!0,isSafari=/constructor/i.test(window.HTMLElement)||function(a){return"[object SafariRemoteNotification]"===a.toString()}(!window.safari||"undefined"!==typeof safari&&safari.pushNotification),requestWaiting=[],lastRequestLoad=null,contentLoadingButton="contentLoadingButton",pendingButtonClass="base-btn--pending";
function simpleSortColumn(a){var b=$(a).closest(".tableForm");b.find("[data-field]").each(function(){void 0!==$(this).data("value")&&$(this).data("field")!==$(a).data("field")&&($(this).removeData("value"),$(this).removeAttr("data-value"),$(this).prop("data-value",null))});"asc"===$(a).data("value")?$(a).data("value","desc"):"desc"===$(a).data("value")?($(a).removeData("value"),$(a).removeAttr("data-value"),$(a).prop("data-value",null)):$(a).data("value","asc");tableChangeEvent(b)}
function tableChangeEvent(a){var b=a.data("ajaxurl").endsWith("ajax/recherche/resultats")||a.data("ajaxurl").endsWith("ajax/suivi/resultats"),c="";a.find("[data-field]").each(function(){void 0!==$(this).data("value")&&(c+=$(this).data("field")+"\x3d"+$(this).data("value")+"\x26")});a.find("input[data-isForm\x3d'true']").each(function(){void 0!==this.value&&0>c.indexOf(this.name+"\x3d"+this.value)&&(c+=this.name+"\x3d"+this.value+"\x26")});c=b?c+$("#searchForm").serialize():c.substring(0,c.length-
1);a={contentId:b||a.data("ajaxurl").endsWith("ajax/suivi/requete-generale")?"resultList":a[0].id,dataToSend:c,method:b?"POST":"GET",dataType:"html",url:a.data("url"),ajaxUrl:a.data("ajaxurl"),isChangeURL:!b,overlay:$("#"+a[0].id).find(".overlay").first().attr("id"),caller:$(event.target).is(":button")?$(event.target):$(event.target).parent()};callAjaxRequest(a,replaceHtmlFunction)}
function callAjaxRequest(a,b,c){var d={id:a.contentId,data:a.dataToSend,time:Date.now()},e=encodeURI(a.url),f=encodeURI(a.ajaxUrl);isRequestAlreadyLaunch(d)||(requestWaiting.push(d),a.isChangeURL&&(null!=a.dataToSend&&0<a.dataToSend.length&&(e=e+"?"+a.dataToSend),null!=a.anchor&&(e=e+"#"+a.contentId),pushURLFunction(e)),a.enctype&&a.processData&&a.contentType?$.ajax({beforeSend:function(b){null!=a.overlay&&($("#"+a.overlay).fadeIn("slow"),$("#"+a.overlay).focus());null!=a.loadingButton&&enableLoadingButton(a.loadingButton)},
complete:function(b){null!=a.overlay&&$("#"+a.overlay).fadeOut("slow");null!=a.loadingButton&&disableLoadingButton(a.loadingButton)},headers:{},url:f,type:a.method,data:a.dataToSend,dataType:a.dataType,enctype:a.enctype,processData:a.processData,contentType:a.contentType,success:function(c,e,f){requestWaiting.splice(getIndexRequest(d),1);if(null==lastRequestLoad||lastRequestLoad.time<d.time)lastRequestLoad=d,b(a.contentId,c,a.caller,a.extraDatas,f);initJavascript()},error:function(b){requestWaiting.splice(getIndexRequest(d),
1);null!=c&&c(a.contentId,b,a.caller,a.extraDatas)}}):$.ajax({beforeSend:function(b){null!=a.overlay&&($("#"+a.overlay).fadeIn("slow"),$("#"+a.overlay).focus());null!=a.loadingButton&&enableLoadingButton(a.loadingButton)},complete:function(b){null!=a.overlay&&$("#"+a.overlay).fadeOut("slow");null!=a.loadingButton&&disableLoadingButton(a.loadingButton)},headers:{},url:f,type:a.method,data:a.dataToSend,dataType:a.dataType,success:function(c,e,f){requestWaiting.splice(getIndexRequest(d),1);if(null==
lastRequestLoad||lastRequestLoad.time<d.time)lastRequestLoad=d,b(a.contentId,c,a.caller,a.extraDatas,f);initJavascript()},error:function(b){requestWaiting.splice(getIndexRequest(d),1);null!=c&&c(a.contentId,b,a.caller,a.extraDatas)}}))}function isRequestAlreadyLaunch(a){return 0>getIndexRequest(a)?!1:!0}function getIndexRequest(a){var b=-1;$.each(requestWaiting,function(c,d){d.id===a.id&&d.data===a.data&&(b=c)});return b}var pushURLFunction=function(a){history.pushState(null,"",a)};
$(window).on("popstate",function(){!1!==firstLoad&&!1!==isSafari||location.reload(!0);firstLoad=!1});$(document).ready(function(){initAlert();var a=$("#password_rules");a.length&&tippy("#password_tooltip",{content:a.html(),placement:"right",allowHTML:!0});$("#reset_password_overlay")&&$("#reset_password_overlay").hasClass("interstitial-overlay__content--visible")||initInterstitialSword()});$(".back-to-top").click(function(){$("#topmenubutton").focus()});
function initJavascript(){initWindowHelpers();initHeaderMenu();initBackToTop();initComplexSelects();initToolTip();initSimpleFilePicker();initSelects();initRichText();initProgressBar();initLetterSlider();initInterstitial();initSeeMore();initEllipsedContent();initDropdown();initDatePicker();initCustomTable();initActionTable();initEllipsedContent();initTabs();initAlert()}
window.initInterstitialSword=function(){document.querySelectorAll(".interstitial-overlay__trigger").forEach(function(a){a.addEventListener("click",function(b){var c=$("#"+a.getAttribute("data-controls"))[0],d=a.getAttribute("data-parameters");c&&!c.classList.contains("interstitial-overlay__content--visible")&&(c.classList.add("interstitial-overlay__content--visible"),modalFocus.currentDialog=c.firstChild,modalFocus.enableTrapFocus(b.target),parametersToHidden(d,c.id))})});document.querySelectorAll(".interstitial-overlay__content").forEach(function(a){a.addEventListener("click",
function(a){a.target.classList.contains("interstitial-overlay__content--visible")&&(a.target.classList.remove("interstitial-overlay__content--visible"),modalFocus.disableTrapFocus(),modalFocus.currentDialog=null,(a=a.target.parentNode.querySelector(".interstitial-overlay__trigger"))&&a.focus())})});document.querySelectorAll(".interstitial__button, .interstitial__close").forEach(function(a){a.addEventListener("click",function(a){a=$(a.target).closest(".interstitial-overlay__content").get(0);a.classList.contains("interstitial-overlay__content--visible")&&
(a.classList.remove("interstitial-overlay__content--visible"),a=modalFocus.currentDialog,modalFocus.disableTrapFocus(),modalFocus.currentDialog=null,(a=a.parentNode.parentNode.querySelector(".interstitial-overlay__trigger"))&&a.focus())})})};function parametersToHidden(a,b){a=a.split(";");for(var c=0;c<a.length;c++){var d=a[c].split("\x3d"),e=document.createElement("input");e.type="hidden";e.name=d[0];e.id=d[0];$("#"+e.id).remove();e.value=d[1];$("#"+b).append(e)}initEtape()}
function enableLoadingButton(a){a=$(a);a.data(contentLoadingButton,a.html());a.addClass(pendingButtonClass);a.attr("disabled",!0);a.html('\x3cimg src\x3d"/reponses/img/loader.svg" alt\x3d"Chargement en cours" width\x3d"29" height\x3d"29"\x3e')}function disableLoadingButton(a){a=$(a);a.removeClass(pendingButtonClass);a.attr("disabled",!1);a.html(a.data(contentLoadingButton))}
function doValidationModal(a){a=$(a);var b=$("#dialogTitle-validation-modal"),c=$("#message-validation-modal"),d=$("#btn-confirm-validation-modal"),e=$("#validation-modal-parameters");b.text(a.data("title"));c.text(a.data("message"));d.attr("onclick",a.data("function"));e.attr("value",a.data("parameters"))}
var DEFAULT_DATE_FORMAT="dd/mm/yyyy",DAYS_PER_MONTH=function(a){return[31,0==a%4&&0!=a%100||0==a%400?29:28,31,30,31,30,31,31,30,31,30,31]},JO_DATE_MIN=new Date("1869","0","1"),formValidators={utils:{isValidDate:function(a,b){b="string"==typeof b?b:DEFAULT_DATE_FORMAT;a=a.match(/(\d+)/g);var c=0,d={};b.replace(/(yyyy|dd|mm)/g,function(a){d[a]=c++});return DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&a[d.dd]<=DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&0<a[d.dd]}},alpha:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z]+$/)).test(a)},
message:function(a){return"Le champ doit contenir uniquement des lettres."}},alpha_num:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres et des chiffres."}},alpha_num_dash:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9-]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres, des chiffres et des tirets."}},between:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&
a>=parseFloat(b[0])&&a<=parseFloat(b[1])},message:function(a){return"Le champ doit être un nombre entier compris entre "+a[0]+" et "+a[1]+"."}},checkbox_required:{validationFunction:function(a,b){return a},message:function(a){return"Veuillez cocher cette case si vous souhaitez continuer."}},date_unique_format:{validationFunction:function(a,b){if(0>=a.length)return!0;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0]);
default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0])}},message:function(a){return"Le champ doit être une date valide au format "+a[0].replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018."}},date_inferior_to:{validationFunction:function(a,b){b=$("#"+b[0]).val();var c=new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/);if(!c.test(a)||!c.test(b))return!1;b=b.split("/");a=a.split("/");return new Date(a[2],a[1],a[0])>new Date(b[2],b[1],b[0])},
message:function(a){return"La date de fin doit être postérieur à la date de début."}},date_range_format:{validationFunction:function(a,b){if(0>=a.length)return!0;if(-1!==a.indexOf(b[1].trim())){var c=a.split(b[1].trim());a=c[0].trim();c=c[1].trim()}else return!1;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0]);default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&
(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0])}},message:function(a){return"Le champ doit être une période de dates valide au format "+a[0]+" "+a[1]+" "+a[0]+"."}},date_multiple_formats:{validationFunction:function(a,b){if(0>=a.length)return!0;var c=0,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];switch(e){case DEFAULT_YEAR_FORMAT:case "yyyy":(new RegExp(/^[0-9]{4}$/)).test(a)&&c++;break;case DEFAULT_MONTH_FORMAT:case "mm/yyyy":(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)&&
c++;break;case "yyyy-mm-dd":(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,e)&&c++;break;default:(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,e)&&c++}}return 1===c},message:function(a){return"Le champ doit être une période de dates valide au format "+a.join(" ou ").replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018, 2018, ou 12/2018."}},date_year_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{4}$/)).test(a)},
message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_month_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)},message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_min_jo:{validationFunction:function(a,b){if(!a)return!0;a=-1!==a.indexOf(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)?a.split(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)[0].trim():a;if(!(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)||
!formValidators.utils.isValidDate(a,DEFAULT_DATE_FORMAT))return!0;a=a.split(DEFAULT_DATE_FORMAT_SEPARATOR);return new Date(a[2],a[1]-1,a[0])>=JO_DATE_MIN},message:function(a){return"Il n'y a pas de contenu disponible à la date indiquée. Veuillez indiquer une date à partir du 01/01/1869."}},email:{validationFunction:function(a,b){return(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)).test(a)},
message:function(a){return"Veuillez saisir une adresse email valide (ex. : nom@exemple.fr)"}},integer:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+$/)).test(a.toString())},message:function(a){return"Le champ doit être un nombre entier positif."}},max:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&a<=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier inférieur à "+a[0]+"."}},min:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&
a>=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier supérieur à "+a[0]+"."}},maxlength:{validationFunction:function(a,b){return a.length<=b[0]},message:function(a){return"Le champ doit contenir au plus "+a[0]+" caractères."}},minlength:{validationFunction:function(a,b){return a.length>=b[0]},message:function(a){return"Le champ doit contenir au moins "+a[0]+" caractères."}},numeric:{validationFunction:function(a,b){return(new RegExp(/^-?[0-9]+.?[0-9]*$/)).test(a)},message:function(a){return"Le champ doit être un nombre valide."}},
not_empty:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ ne doit pas être vide."}},phone_number:{validationFunction:function(a,b){return(new RegExp(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s\.-]*\d{2}){4}$/)).test(a)},message:function(a){return"Le champ doit être un numéro de téléphone français valide."}},required:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ est requis."}},multiple_list_selector:{validationFunction:function(a,
b){return 0<$("#"+b[0]).find("li").length},message:function(a){return"Le champ est requis."}},required_select:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ est requis."}},one_digit:{validationFunction:function(a,b){return(new RegExp(/\d/)).test(a)},message:function(a){return"Le champ doit contenir au moins un chiffre."}},one_special:{validationFunction:function(a,b){return(new RegExp(/[~`!@#$%^&*()_+={}\[\]|:;"'<>,.?\/-]/)).test(a)},message:function(a){return"Le champ doit contenir au moins un caractère spécial."}},
one_lower_case:{validationFunction:function(a,b){return(new RegExp(/[a-z]/)).test(a)},message:function(a){return"Le champ doit contenir au moins une lettre minuscule."}},one_upper_case:{validationFunction:function(a,b){return(new RegExp(/[A-Z]/)).test(a)},message:function(a){return"Le champ doit contenir au moins une lettre majuscule."}}};$(document).ready(function(){initFormValidation()});
function initFormValidation(){$("input[type\x3d'submit'], button[type\x3d'submit']").each(function(){var a=$(this).parents("form");$(this).click(function(b){return isValidForm(a)})});$("input[data-validation]").each(function(){$(this).blur(function(a){isValidInput($(this))})});$("select[data-validation]").each(function(){$(this).blur(function(a){isValidInput($(this))})});$("textarea[data-validation]").each(function(){$(this).blur(function(a){isValidInput($(this))})})}
function isValidInput(a){a.closest(".form-input").children(".form-input__footer").children(".form-input__description--error").remove();a.closest(".form-input").children(".form-input__header").children(".form-input__header-top").children(".form-input__icon-group").children(".icon--exclamation-point").remove();return!checkAllValidators(a).length}
function isValidForm(a){a=a.find("input[data-validation]:enabled, textarea[data-validation]:enabled, select[data-validation]:enabled");var b=[],c=[];$(".form-input__description--error").remove();$(".form-textarea__description--error").remove();$(".icon--exclamation-point").remove();a.each(function(a,e){a=$(this);e=checkAllValidators(a);e.length&&(b.push(a),c=c.concat(e))});return c.length?(b[0].focus(),!1):!0}
function checkAllValidators(a){var b=a.val();"checkbox"===a.attr("type")&&(b=a.prop("checked"));var c=a.data("validation").split(","),d=[];$(c).each(function(a,c){c=c.trim();error=checkValidator(b,c);null!=error&&d.push(error)});return showErrors(d,a)}function showErrors(a,b){return 0===a.length?(b.removeClass("form-input__field--error"),b.removeClass("form-select-input__field--error"),a):constructErrors(a,b)}
function checkValidator(a,b){var c=[],d=b.indexOf("(");-1!=d&&(c=b.substring(d+1,b.length-1).split(";"),b=b.substring(0,d));return formValidators[b].validationFunction(a,c)?null:formValidators[b].message(c)}
function constructErrors(a,b){var c=initializeErrorDiv();1===a.length?c.text(a[0]):c.append(buildErrorList(a));b.closest(".form-input").children(".form-input__footer").prepend(c);b.is("select")?b.addClass("form-select-input__field--error"):b.addClass("form-input__field--error");c=initializeErrorIcon();b.closest(".form-input").children(".form-input__header").children(".form-input__header-top").children(".form-input__icon-group").append(c);c=b.attr("id")+"-error";b.attr("aria-describedby",c);return a}
function initializeErrorDiv(){return $("\x3cdiv\x3e\x3c/div\x3e").addClass("form-input__description").addClass("form-input__description--default").addClass("form-input__description--error")}function initializeErrorIcon(){return $('\x3cspan aria-hidden\x3d"true"\x3e\x3c/span\x3e').addClass("form-input__icon-item").addClass("icon icon--exclamation-point").addClass("bubble-icon bubble-icon--danger")}
function buildErrorList(a){var b=$("\x3cul\x3e\x3c/ul\x3e");$(a).each(function(a,d){b.append($("\x3cli\x3e\x3c/li\x3e").text(d))});return b}
function initAlert(a){var b=!0;void 0==a&&(a="body");$(a).find(".alert").each(function(){var a=$(this).find("input[name\x3d'targetId']").val(),d=$(this).find("input[name\x3d'oldId']").val(),d=$("#"+d);a?d.insertBefore("#"+a):$("main").prepend(d);$(this).attr("aria-hidden","false");$(this).show();b&&($(this).focus(),b=!1);document.body.addEventListener("click",function(a){if(a=$(a.target).closest(".js-toast-action").get(0)){var b=$(a).closest(".alert").get(0);fadeOut(b);setTimeout(function(){b.remove()},
500)}})})}function constructAlertContainer(a){$.each(a,function(a,c){constructAlert(c.alertType,c.alertMessage,c.alertOrigin)})}
function constructAlert(a,b,c){if(0<b.length){var d=$("#main_content");c&&(d=$("#"+c));c=$("\x3cdiv\x3e\x3c/div\x3e").addClass("alert--fixed "+a.cssClass);var e=$("\x3cdiv\x3e\x3c/div\x3e").attr("role","status").addClass("alerts--flex"),f=$("\x3cspan\x3e\x3c/span\x3e").addClass(a.level.icon).attr("aria-hidden","true");a=$("\x3cspan\x3e\x3c/span\x3e").addClass("sr-only").text(a.level.srOnly);var g;1<b.length?(g=$("\x3col\x3e\x3c/ol\x3e").addClass("alert__content base-list base-list--ordered"),$.each(b,
function(a,b){a=$("\x3cli\x3e\x3c/li\x3e").addClass("list-item list-item--ordered").text(b);g.append(a)})):1==b.length&&(g=$("\x3cp\x3e\x3c/p\x3e").addClass("alert__content").text(b[0]));e.append(f,a,g);c.append(e,constructCloseButton());d.prepend(c)}}
function constructCloseButton(){var a=$("\x3cbutton\x3e\x3c/button\x3e").attr("type","button").addClass("base-btn base-btn--button base-btn--default base-btn--icon-action-bg-primary base-btn--center base-btn--rounded js-alert-action alert__button").attr("title","Fermer la notification"),b=$("\x3cspan\x3e\x3c/span\x3e").addClass("icon icon--cross-bold").attr("aria-hidden","true"),c=$("\x3cspan\x3e\x3c/span\x3e").addClass("sr-only").text("Fermer la notification");a.append(b,c);a.on("click",function(){var b=
$(a).closest(".alert").get(0);fadeOut(b);setTimeout(function(){b.remove()},500)});return a}$(window).on("load",function(){$("#reset_password_overlay")&&$("#reset_password_overlay").hasClass("interstitial-overlay__content--visible")&&(window.initInterstitial=function(){},window.initInterstitialSword=function(){},$("#reset_password_dialog :input:first").focus())});$("#reset_password_dialog :button:last").keydown(function(a){var b=9==a.which;$("this:focus")&&b&&(a.preventDefault(),$("#reset_password_dialog :input:first").focus())});
$("#reset_password_form").submit(function(a){var b=$("#ajaxCallPath").val().substring(0,$("#ajaxCallPath").val().length-5)+"/user/password/update",b={contentId:null,dataToSend:$(this).serialize(),method:"POST",dataType:"html",ajaxUrl:b,isChangeURL:!1,overlay:null,loadingButton:$(this).find("button[type\x3d'submit']")};callAjaxRequest(b,passwordResetSuccess,passwordResetError);a.preventDefault()});window.passwordResetSuccess=function(a,b,c,d){$("#reset_passwword_success").show();$("#reset_password_form").remove()};
window.passwordResetError=function(a,b,c,d){a=$("#reset_password_error \x3e span");a.length&&a.remove();"400"==b.status?$("#reset_password_error").append("\x3cspan\x3e"+b.responseText+"\x3c/span\x3e").show():$("#reset_password_error").append("\x3cspan\x3e Une erreur serveur est survenue \x3c/span\x3e").show();$("#reset_password_error").focus()};
$("#update_password_form").submit(function(a){var b=$("#ajaxCallPath").val().substring(0,$("#ajaxCallPath").val().length-5)+"/user/password/updateForUser",b={contentId:null,dataToSend:$(this).serialize(),method:"POST",dataType:"html",ajaxUrl:b,isChangeURL:!1,overlay:null,loadingButton:$(this).find("button[type\x3d'submit']")};"true"===$("#logout_on_success").val()?callAjaxRequest(b,passwordUpdateSuccessLogout,passwordUpdateError):callAjaxRequest(b,passwordUpdateSuccess,passwordUpdateError);a.preventDefault()});
window.passwordUpdateSuccessLogout=function(a){a=$("#ajaxCallPath").val().substring(0,$("#ajaxCallPath").val().length-5)+"/logout";window.location.replace(a)};window.passwordUpdateSuccess=function(a){goPreviousPage()};window.passwordUpdateError=function(a){showErrors(Array(a.responseText),$("#password_input"))};window.initRichText=function(){if(0<$("#format").length){var a=$("#format").val();changeEditorType(a)}else initTinyMCE()};
function removeTinyMCE(){tinymce.get("mce")&&tinymce.remove("#mce")}function changeEditorType(a){removeTinyMCE();"html"==a&&initTinyMCE()}
function initTinyMCE(){window.tinyMCE.init({selector:"textarea#mce",plugins:"paste fullscreen table help",menu:{file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},
format:{title:"Format",items:"superscript subscript"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},toolbar:!1,height:400,importcss_append:!0,a11y_advanced_options:!0,language:"fr_FR"})}function previousPageLetter(a){$(".pagination__item--is-active").prev().children(".pagination__page-link.link")[0].click();showHideButtonPagination()}
function nextPageLetter(a){$(".pagination__item--is-active").next().children(".pagination__page-link.link")[0].click();showHideButtonPagination()}
function showHideButtonPagination(){var a=$(".pagination__item--previous-page");void 0!==a&&($(a).next().hasClass("pagination__item--is-active")?$(a).addClass("visibility-hidden"):$(a).removeClass("visibility-hidden"));a=$(".pagination__item--next-page");void 0!==a&&($(a).prev().hasClass("pagination__item--is-active")?$(a).addClass("visibility-hidden"):$(a).removeClass("visibility-hidden"))}
function searchUser(a){var b="";a&&(b="\x26recherche\x3d"+a);a={contentId:"listeUsers",dataToSend:"page\x3dA"+b,method:"GET",dataType:"html",url:$("#ajaxCallPath").val().substring(0,$("#ajaxCallPath").val().length-5)+"/admin/users/liste",ajaxUrl:$("#ajaxCallPath").val()+"/admin/users/liste",isChangeURL:!0,overlay:$("#listeUsers").find(".overlay").first().attr("id"),caller:this};callAjaxRequest(a,loadOngletData,tabLoadError)}
function refreshDateInputActivation(){$("#temporaire_oui").is(":checked")?($("#dateFin").prop("disabled",!1),$("#dateFin").siblings(".form-date-picker-input__open-calendar-button").prop("disabled",!1),$("#dateFin_label").removeClass("form-label--disabled")):($("#dateFin").prop("disabled",!0),$("#dateFin").siblings(".form-date-picker-input__open-calendar-button").prop("disabled",!0),$("#dateFin_label").addClass("form-label--disabled"))}
function doDeleteUser(){var a="/admin/user/"+$("#validation-modal-parameters").val()+"/delete",a=$("#ajaxCallPath").val().substring(0,$("#ajaxCallPath").val().length-5)+a;window.location.href=a};