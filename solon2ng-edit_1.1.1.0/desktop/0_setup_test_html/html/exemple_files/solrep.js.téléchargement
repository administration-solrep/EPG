var onGeneratedBirtReport=function(a,b,g){replaceHtmlFunction(a,b);$(".birt-hide-report").each(function(){$(this).removeClass("birt-hide-report")})};
function generateBirtReport(){var a=$("#btn-generate-stat").data("reportid"),a=$("#ajaxCallPath").val()+"/stats/display/"+a,a={contentId:"birt-fragment",dataToSend:$("#birtReportForm").serialize(),method:"GET",dataType:"html",ajaxUrl:a,isChangeURL:!1,overlay:$("#main_content").find(".overlay").first().attr("id"),caller:this};callAjaxRequest(a,onGeneratedBirtReport)}function removeEtape(a){a.closest("fieldset").remove()}var addEtape=function(a,b){$("#"+a).append(b)};
function doAddEtape(){var a=$("#ajaxCallPath").val()+"/dossier/ajouterEtape",a={contentId:"etapeFdrContainer",dataToSend:"uniqueId\x3d"+randomId(),method:"GET",dataType:"html",ajaxUrl:a,isChangeURL:!1,overlay:null};callAjaxRequest(a,addEtape,displaySimpleErrorMessage)}
function doSaveEtape(){var a=[];$("#etapeFdrContainer").find("fieldset.m-t-6").each(function(){var b=$(this).serializeArray(),c="{",d;for(i=0;i<b.length;i++)if(1!=i){d=b[i].name.split("-")[1];var e=b[i].name.split("-")[0];if("valAuto"!=e)var f=b[i].value,c=c+'"',c=c+e,c=c+'" : "',c=c+f,c=c+'",'}b=$("input[name\x3dvalAuto-"+d+"]").prop("checked");a.push(c+' "valAuto" : "'+b+'"}')});var b=$("#ajaxCallPath").val()+"/dossier/saveEtape",b={contentId:null,dataToSend:{dossierId:$("#dossierId").val(),dossierLinkId:$("#dossierLinkId").val(),
idBranch:$("#idBranch").val(),typeAjout:$("#actionLabel").val(),typeCreation:$("input[name\x3d'creer']:checked").val(),lines:a},method:"POST",dataType:"html",ajaxUrl:b,isChangeURL:!1,overlay:null};callAjaxRequest(b,checkErrorOrReload,displaySimpleErrorMessage)}
function initEtape(){if($("#ajoutEtapeFdr").length){$("#dialogTitle").text($("#actionLabel").val());var a=[];$("#etapeFdrContainer").find("fieldset.m-t-6").each(function(){a.push($(this).attr("id"))});var b=["fieldset-1","fieldset-2"];a.forEach(function(a){-1==b.indexOf(a)&&$("#"+a).remove()})}}function changeTypeCreation(a){"serie"==a?(initEtape(),$("#btnRemoveEtape-2").removeClass("invisible")):"parallele"==a&&(initEtape(),$("#btnRemoveEtape-2").addClass("invisible"),doAddEtape())}
function buildRequest(a,b){return myRequest={contentId:null,dataToSend:{idModele:b},method:"POST",dataType:"html",ajaxUrl:a,isChangeURL:!1,overlay:null}}function doSupprimerModele(){var a=$("#ajaxCallPath").val()+"/fdr/modeles/supprimer",a=buildRequest(a,$("#validation-modal-parameters").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)}
function doUnlockModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/unlock",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,goPreviousOrReloadIfError,displaySimpleErrorMessage)}function doDemandeValidationModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/demandeValidation",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)}
function doAnnulerDemandeValidationModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/annulerDemandeValidation",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)}function doRefusValidationModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/refusValidation",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)}
function doValiderModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/valider",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)}function doModifierModele(){var a=$("#ajaxCallPath").val()+"/fdr/modele/modifier",a=buildRequest(a,$("#idModele").val());callAjaxRequest(a,checkErrorOrReload,displaySimpleErrorMessage)};